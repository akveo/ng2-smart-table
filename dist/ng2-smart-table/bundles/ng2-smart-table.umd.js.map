{"version":3,"file":"ng2-smart-table.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ng2-smart-table/lib/lib/helpers.ts","ng://ng2-smart-table/lib/lib/data-set/cell.ts","ng://ng2-smart-table/lib/lib/data-set/row.ts","ng://ng2-smart-table/lib/lib/data-set/column.ts","ng://ng2-smart-table/lib/lib/data-set/data-set.ts","ng://ng2-smart-table/lib/lib/grid.ts","ng://ng2-smart-table/lib/components/cell/cell.component.ts","ng://ng2-smart-table/lib/components/cell/cell-edit-mode/edit-cell-default.ts","ng://ng2-smart-table/lib/components/cell/cell-edit-mode/custom-edit.component.ts","ng://ng2-smart-table/lib/components/cell/cell-edit-mode/default-edit.component.ts","ng://ng2-smart-table/lib/components/cell/cell-edit-mode/edit-cell.component.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/default-editor.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/checkbox-editor.component.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/completer-editor.component.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/input-editor.component.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/select-editor.component.ts","ng://ng2-smart-table/lib/components/cell/cell-editors/textarea-editor.component.ts","ng://ng2-smart-table/lib/components/cell/cell-view-mode/custom-view.component.ts","ng://ng2-smart-table/lib/components/cell/cell-view-mode/view-cell.component.ts","ng://ng2-smart-table/lib/components/cell/cell.module.ts","ng://ng2-smart-table/lib/lib/data-source/data-source.ts","ng://ng2-smart-table/lib/components/filter/filter-default.ts","ng://ng2-smart-table/lib/components/filter/filter.component.ts","ng://ng2-smart-table/lib/components/filter/default-filter.component.ts","ng://ng2-smart-table/lib/components/filter/custom-filter.component.ts","ng://ng2-smart-table/lib/components/filter/filter-types/default-filter.ts","ng://ng2-smart-table/lib/components/filter/filter-types/checkbox-filter.component.ts","ng://ng2-smart-table/lib/components/filter/filter-types/completer-filter.component.ts","ng://ng2-smart-table/lib/components/filter/filter-types/input-filter.component.ts","ng://ng2-smart-table/lib/components/filter/filter-types/select-filter.component.ts","ng://ng2-smart-table/lib/components/filter/filter.module.ts","ng://ng2-smart-table/lib/components/pager/pager.component.ts","ng://ng2-smart-table/lib/components/pager/pager.module.ts","ng://ng2-smart-table/lib/components/tbody/tbody.component.ts","ng://ng2-smart-table/lib/components/tbody/cells/create-cancel.component.ts","ng://ng2-smart-table/lib/components/tbody/cells/edit-delete.component.ts","ng://ng2-smart-table/lib/components/tbody/cells/custom.component.ts","ng://ng2-smart-table/lib/components/tbody/tbody.module.ts","ng://ng2-smart-table/lib/components/thead/thead.component.ts","ng://ng2-smart-table/lib/components/thead/cells/actions.component.ts","ng://ng2-smart-table/lib/components/thead/cells/actions-title.component.ts","ng://ng2-smart-table/lib/components/thead/cells/add-button.component.ts","ng://ng2-smart-table/lib/components/thead/cells/checkbox-select-all.component.ts","ng://ng2-smart-table/lib/components/thead/cells/column-title.component.ts","ng://ng2-smart-table/lib/components/thead/cells/title/title.component.ts","ng://ng2-smart-table/lib/components/thead/rows/thead-filters-row.component.ts","ng://ng2-smart-table/lib/components/thead/rows/thead-form-row.component.ts","ng://ng2-smart-table/lib/components/thead/rows/thead-titles-row.component.ts","ng://ng2-smart-table/lib/components/thead/thead.module.ts","ng://ng2-smart-table/lib/lib/data-source/local/local.sorter.ts","ng://ng2-smart-table/lib/lib/data-source/local/local.filter.ts","ng://ng2-smart-table/lib/lib/data-source/local/local.pager.ts","ng://ng2-smart-table/lib/lib/data-source/local/local.data-source.ts","ng://ng2-smart-table/lib/ng2-smart-table.component.ts","ng://ng2-smart-table/lib/ng2-smart-table.module.ts","ng://ng2-smart-table/lib/lib/data-source/server/server-source.conf.ts","ng://ng2-smart-table/lib/lib/data-source/server/server.data-source.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { cloneDeep } from 'lodash';\r\n\r\n/**\r\n * Extending object that entered in first argument.\r\n *\r\n * Returns extended object or false if have no target object or incorrect type.\r\n *\r\n * If you wish to clone source object (without modify it), just use empty new\r\n * object as first argument, like this:\r\n *   deepExtend({}, yourObj_1, [yourObj_N]);\r\n */\r\nexport const deepExtend = function(...objects: Array<any>): any {\r\n  if (arguments.length < 1 || typeof arguments[0] !== 'object') {\r\n    return false;\r\n  }\r\n\r\n  if (arguments.length < 2) {\r\n    return arguments[0];\r\n  }\r\n\r\n  const target = arguments[0];\r\n\r\n  // convert arguments to array and cut off target object\r\n  const args = Array.prototype.slice.call(arguments, 1);\r\n\r\n  let val, src;\r\n\r\n  args.forEach((obj: any) => {\r\n    // skip argument if it is array or isn't object\r\n    if (typeof obj !== 'object' || Array.isArray(obj)) {\r\n      return;\r\n    }\r\n\r\n    Object.keys(obj).forEach(function (key) {\r\n      src = target[key]; // source value\r\n      val = obj[key]; // new value\r\n\r\n      // recursion prevention\r\n      if (val === target) {\r\n        return;\r\n\r\n        /**\r\n         * if new value isn't object then just overwrite by new value\r\n         * instead of extending.\r\n         */\r\n      } else if (typeof val !== 'object' || val === null) {\r\n        target[key] = val;\r\n        return;\r\n\r\n        // just clone arrays (and recursive clone objects inside)\r\n      } else if (Array.isArray(val)) {\r\n        target[key] = cloneDeep(val);\r\n        return;\r\n\r\n        // overwrite by new value if source isn't object or array\r\n      } else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\r\n        target[key] = deepExtend({}, val);\r\n        return;\r\n\r\n        // source value and new value is objects both, extending...\r\n      } else {\r\n        target[key] = deepExtend(src, val);\r\n        return;\r\n      }\r\n    });\r\n  });\r\n\r\n  return target;\r\n};\r\n\r\nexport class Deferred {\r\n\r\n  promise: Promise<any>;\r\n\r\n  resolve: any;\r\n  reject: any;\r\n\r\n  constructor() {\r\n    this.promise = new Promise((resolve, reject) => {\r\n      this.resolve = resolve;\r\n      this.reject = reject;\r\n    });\r\n  }\r\n}\r\n\r\n// getDeepFromObject({result: {data: 1}}, 'result.data', 2); // returns 1\r\nexport function getDeepFromObject(object = {}, name: string, defaultValue?: any) {\r\n  const keys = name.split('.');\r\n  // clone the object\r\n  let level = deepExtend({}, object);\r\n  keys.forEach((k) => {\r\n    if (level && typeof level[k] !== 'undefined') {\r\n      level = level[k];\r\n    }\r\n  });\r\n\r\n  return typeof level === 'undefined' ? defaultValue : level;\r\n}\r\n","import { Column } from './column';\r\nimport { DataSet } from './data-set';\r\nimport { Row } from './row';\r\n\r\nexport function prepareValue (value: any) { return value }\r\n\r\nexport class Cell {\r\n\r\n  newValue: any = '';\r\n  protected static PREPARE = prepareValue;\r\n\r\n  constructor(protected value: any, protected row: Row, protected column: any, protected dataSet: DataSet) {\r\n    this.newValue = value;\r\n  }\r\n\r\n  getColumn(): Column {\r\n    return this.column;\r\n  }\r\n\r\n  getRow(): Row {\r\n    return this.row;\r\n  }\r\n\r\n  getValue(): any {\r\n    const valid = this.column.getValuePrepareFunction() instanceof Function;\r\n    const prepare = valid ? this.column.getValuePrepareFunction() : Cell.PREPARE;\r\n    return prepare.call(null, this.value, this.row.getData(), this);\r\n  }\r\n\r\n  setValue(value: any): any {\r\n    this.newValue = value;\r\n  }\r\n\r\n  getId(): string {\r\n    return this.getColumn().id;\r\n  }\r\n\r\n  getTitle(): string {\r\n    return this.getColumn().title;\r\n  }\r\n\r\n  isEditable(): boolean {\r\n    if (this.getRow().index === -1) {\r\n      return this.getColumn().isAddable;\r\n    }\r\n    else {\r\n      return this.getColumn().isEditable;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Cell } from './cell';\r\nimport { Column } from './column';\r\nimport { DataSet } from './data-set';\r\n\r\nexport class Row {\r\n\r\n  isSelected: boolean = false;\r\n  isInEditing: boolean = false;\r\n  cells: Array<Cell> = [];\r\n\r\n\r\n  constructor(public index: number, protected data: any, protected _dataSet: DataSet) {\r\n    this.process();\r\n  }\r\n\r\n  getCell(column: Column): Cell {\r\n    return this.cells.find(el => el.getColumn() === column);\r\n  }\r\n\r\n  getCells() {\r\n    return this.cells;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.data;\r\n  }\r\n\r\n  getIsSelected(): boolean {\r\n    return this.isSelected;\r\n  }\r\n\r\n  getNewData(): any {\r\n    const values = Object.assign({}, this.data);\r\n    this.getCells().forEach((cell) => values[cell.getColumn().id] = cell.newValue);\r\n    return values;\r\n  }\r\n\r\n  setData(data: any): any {\r\n    this.data = data;\r\n    this.process();\r\n  }\r\n\r\n  process() {\r\n    this.cells = [];\r\n    this._dataSet.getColumns().forEach((column: Column) => {\r\n      const cell = this.createCell(column);\r\n      this.cells.push(cell);\r\n    });\r\n  }\r\n\r\n  createCell(column: Column): Cell {\r\n    const defValue = (column as any).settings.defaultValue ? (column as any).settings.defaultValue : '';\r\n    const value = typeof this.data[column.id] === 'undefined' ? defValue : this.data[column.id];\r\n    return new Cell(value, this, column, this._dataSet);\r\n  }\r\n}\r\n","import { DataSet } from './data-set';\r\n\r\nexport class Column {\r\n\r\n  title: string = '';\r\n  type: string = '';\r\n  class: string = '';\r\n  width: string = '';\r\n  isSortable: boolean = false;\r\n  isEditable: boolean = true;\r\n  isAddable: boolean = true;\r\n  isFilterable: boolean = false;\r\n  sortDirection: string = '';\r\n  defaultSortDirection: string = '';\r\n  editor: { type: string, config: any, component: any } = { type: '', config: {}, component: null };\r\n  filter: { type: string, config: any, component: any } = { type: '', config: {}, component: null };\r\n  renderComponent: any = null;\r\n  compareFunction: Function;\r\n  valuePrepareFunction: Function;\r\n  filterFunction: Function;\r\n  onComponentInitFunction: Function;\r\n\r\n  constructor(public id: string, protected settings: any, protected dataSet: DataSet) {\r\n    this.process();\r\n  }\r\n\r\n  getOnComponentInitFunction(): Function {\r\n    return this.onComponentInitFunction;\r\n  }\r\n\r\n  getCompareFunction(): Function {\r\n    return this.compareFunction;\r\n  }\r\n\r\n  getValuePrepareFunction(): Function {\r\n    return this.valuePrepareFunction;\r\n  }\r\n\r\n  getFilterFunction(): Function {\r\n    return this.filterFunction;\r\n  }\r\n\r\n  getConfig(): any {\r\n    return this.editor && this.editor.config;\r\n  }\r\n\r\n  getFilterType(): any {\r\n    return this.filter && this.filter.type;\r\n  }\r\n\r\n  getFilterConfig(): any {\r\n    return this.filter && this.filter.config;\r\n  }\r\n\r\n  protected process() {\r\n    this.title = this.settings['title'];\r\n    this.class = this.settings['class'];\r\n    this.width = this.settings['width'];\r\n    this.type = this.prepareType();\r\n    this.editor = this.settings['editor'];\r\n    this.filter = this.settings['filter'];\r\n    this.renderComponent = this.settings['renderComponent'];\r\n\r\n    this.isFilterable = typeof this.settings['filter'] === 'undefined' ? true : !!this.settings['filter'];\r\n    this.defaultSortDirection = ['asc', 'desc']\r\n      .indexOf(this.settings['sortDirection']) !== -1 ? this.settings['sortDirection'] : '';\r\n    this.isSortable = typeof this.settings['sort'] === 'undefined' ? true : !!this.settings['sort'];\r\n    this.isEditable = typeof this.settings['editable'] === 'undefined' ? true : !!this.settings['editable'];\r\n    this.isAddable=typeof this.settings['addable'] === 'undefined' ? true : !!this.settings['addable'];\r\n    this.sortDirection = this.prepareSortDirection();\r\n\r\n    this.compareFunction = this.settings['compareFunction'];\r\n    this.valuePrepareFunction = this.settings['valuePrepareFunction'];\r\n    this.filterFunction = this.settings['filterFunction'];\r\n    this.onComponentInitFunction = this.settings['onComponentInitFunction'];\r\n  }\r\n\r\n  prepareType(): string {\r\n    return this.settings['type'] || this.determineType();\r\n  }\r\n\r\n  prepareSortDirection(): string {\r\n    return this.settings['sort'] === 'desc' ? 'desc' : 'asc';\r\n  }\r\n\r\n  determineType(): string {\r\n    // TODO: determine type by data\r\n    return 'text';\r\n  }\r\n}\r\n","import { Row } from './row';\r\nimport { Column } from './column';\r\n\r\nexport class DataSet {\r\n\r\n  newRow: Row;\r\n\r\n  protected data: Array<any> = [];\r\n  protected columns: Array<Column> = [];\r\n  protected rows: Array<Row> = [];\r\n  protected selectedRow: Row;\r\n  protected willSelect: string = 'first';\r\n\r\n  constructor(data: Array<any> = [], protected columnSettings: Object) {\r\n    this.createColumns(columnSettings);\r\n    this.setData(data);\r\n\r\n    this.createNewRow();\r\n  }\r\n\r\n  setData(data: Array<any>) {\r\n    this.data = data;\r\n    this.createRows();\r\n  }\r\n\r\n  getColumns(): Array<Column> {\r\n    return this.columns;\r\n  }\r\n\r\n  getRows(): Array<Row> {\r\n    return this.rows;\r\n  }\r\n\r\n  getFirstRow(): Row {\r\n    return this.rows[0];\r\n  }\r\n\r\n  getLastRow(): Row {\r\n    return this.rows[this.rows.length - 1];\r\n  }\r\n\r\n  findRowByData(data: any): Row {\r\n    return this.rows.find((row: Row) => row.getData() === data);\r\n  }\r\n\r\n  deselectAll() {\r\n    this.rows.forEach((row) => {\r\n      row.isSelected = false;\r\n    });\r\n  }\r\n\r\n  selectRow(row: Row): Row {\r\n    const previousIsSelected = row.isSelected;\r\n    this.deselectAll();\r\n\r\n    row.isSelected = !previousIsSelected;\r\n    this.selectedRow = row;\r\n\r\n    return this.selectedRow;\r\n  }\r\n\r\n  multipleSelectRow(row: Row): Row {\r\n    row.isSelected = !row.isSelected;\r\n    this.selectedRow = row;\r\n\r\n    return this.selectedRow;\r\n  }\r\n\r\n  selectPreviousRow(): Row {\r\n    if (this.rows.length > 0) {\r\n      let index = this.selectedRow ? this.selectedRow.index : 0;\r\n      if (index > this.rows.length - 1) {\r\n        index = this.rows.length - 1;\r\n      }\r\n      this.selectRow(this.rows[index]);\r\n      return this.selectedRow;\r\n    }\r\n  }\r\n\r\n  selectFirstRow(): Row {\r\n    if (this.rows.length > 0) {\r\n      this.selectRow(this.rows[0]);\r\n      return this.selectedRow;\r\n    }\r\n  }\r\n\r\n  selectLastRow(): Row {\r\n    if (this.rows.length > 0) {\r\n      this.selectRow(this.rows[this.rows.length - 1]);\r\n      return this.selectedRow;\r\n    }\r\n  }\r\n\r\n  willSelectFirstRow() {\r\n    this.willSelect = 'first';\r\n  }\r\n\r\n  willSelectLastRow() {\r\n    this.willSelect = 'last';\r\n  }\r\n\r\n  select(): Row {\r\n    if (this.getRows().length === 0) {\r\n      return;\r\n    }\r\n    if (this.willSelect) {\r\n      if (this.willSelect === 'first') {\r\n        this.selectFirstRow();\r\n      }\r\n      if (this.willSelect === 'last') {\r\n        this.selectLastRow();\r\n      }\r\n      this.willSelect = '';\r\n    } else {\r\n      this.selectFirstRow();\r\n    }\r\n\r\n    return this.selectedRow;\r\n  }\r\n\r\n  createNewRow() {\r\n    this.newRow = new Row(-1, {}, this);\r\n    this.newRow.isInEditing = true;\r\n  }\r\n\r\n  /**\r\n   * Create columns by mapping from the settings\r\n   * @param settings\r\n   * @private\r\n   */\r\n  createColumns(settings: any) {\r\n    for (const id in settings) {\r\n      if (settings.hasOwnProperty(id)) {\r\n        this.columns.push(new Column(id, settings[id], this));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create rows based on current data prepared in data source\r\n   * @private\r\n   */\r\n  createRows() {\r\n    this.rows = [];\r\n    this.data.forEach((el, index) => {\r\n      this.rows.push(new Row(index, el, this));\r\n    });\r\n  }\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { Observable } from 'rxjs';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\nimport { Deferred, getDeepFromObject } from './helpers';\r\nimport { Column } from './data-set/column';\r\nimport { Row } from './data-set/row';\r\nimport { DataSet } from './data-set/data-set';\r\nimport { DataSource } from './data-source/data-source';\r\n\r\nexport class Grid {\r\n\r\n  createFormShown: boolean = false;\r\n\r\n  source: DataSource;\r\n  settings: any;\r\n  dataSet: DataSet;\r\n\r\n  onSelectRowSource = new Subject<any>();\r\n\r\n  constructor(source: DataSource, settings: any) {\r\n    this.setSettings(settings);\r\n    this.setSource(source);\r\n  }\r\n\r\n  showActionColumn(position: string): boolean {\r\n    return this.isCurrentActionsPosition(position) && this.isActionsVisible();\r\n  }\r\n\r\n  isCurrentActionsPosition(position: string): boolean {\r\n    return position == this.getSetting('actions.position');\r\n  }\r\n\r\n  isActionsVisible(): boolean {\r\n    return this.getSetting('actions.add') || this.getSetting('actions.edit') || this.getSetting('actions.delete') || this.getSetting('actions.custom').length;\r\n  }\r\n\r\n  isMultiSelectVisible(): boolean {\r\n    return this.getSetting('selectMode') === 'multi';\r\n  }\r\n\r\n  getNewRow(): Row {\r\n    return this.dataSet.newRow;\r\n  }\r\n\r\n  setSettings(settings: Object) {\r\n    this.settings = settings;\r\n    this.dataSet = new DataSet([], this.getSetting('columns'));\r\n\r\n    if (this.source) {\r\n      this.source.refresh();\r\n    }\r\n  }\r\n\r\n  getDataSet(): DataSet {\r\n    return this.dataSet;\r\n  }\r\n\r\n  setSource(source: DataSource) {\r\n    this.source = this.prepareSource(source);\r\n\r\n    this.source.onChanged().subscribe((changes: any) => this.processDataChange(changes));\r\n\r\n    this.source.onUpdated().subscribe((data: any) => {\r\n      const changedRow = this.dataSet.findRowByData(data);\r\n      changedRow.setData(data);\r\n    });\r\n  }\r\n\r\n  getSetting(name: string, defaultValue?: any): any {\r\n    return getDeepFromObject(this.settings, name, defaultValue);\r\n  }\r\n\r\n  getColumns(): Array<Column> {\r\n    return this.dataSet.getColumns();\r\n  }\r\n\r\n  getRows(): Array<Row> {\r\n    return this.dataSet.getRows();\r\n  }\r\n\r\n  selectRow(row: Row) {\r\n    this.dataSet.selectRow(row);\r\n  }\r\n\r\n  multipleSelectRow(row: Row) {\r\n    this.dataSet.multipleSelectRow(row);\r\n  }\r\n\r\n  onSelectRow(): Observable<any> {\r\n    return this.onSelectRowSource.asObservable();\r\n  }\r\n\r\n  edit(row: Row) {\r\n    row.isInEditing = true;\r\n  }\r\n\r\n  create(row: Row, confirmEmitter: EventEmitter<any>) {\r\n\r\n    const deferred = new Deferred();\r\n    deferred.promise.then((newData) => {\r\n      newData = newData ? newData : row.getNewData();\r\n      if (deferred.resolve.skipAdd) {\r\n        this.createFormShown = false;\r\n      } else {\r\n        this.source.prepend(newData).then(() => {\r\n          this.createFormShown = false;\r\n          this.dataSet.createNewRow();\r\n        });\r\n      }\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.getSetting('add.confirmCreate')) {\r\n      confirmEmitter.emit({\r\n        newData: row.getNewData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  save(row: Row, confirmEmitter: EventEmitter<any>) {\r\n\r\n    const deferred = new Deferred();\r\n    deferred.promise.then((newData) => {\r\n      newData = newData ? newData : row.getNewData();\r\n      if (deferred.resolve.skipEdit) {\r\n        row.isInEditing = false;\r\n      } else {\r\n        this.source.update(row.getData(), newData).then(() => {\r\n          row.isInEditing = false;\r\n        });\r\n      }\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.getSetting('edit.confirmSave')) {\r\n      confirmEmitter.emit({\r\n        data: row.getData(),\r\n        newData: row.getNewData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  delete(row: Row, confirmEmitter: EventEmitter<any>) {\r\n\r\n    const deferred = new Deferred();\r\n    deferred.promise.then(() => {\r\n      this.source.remove(row.getData());\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.getSetting('delete.confirmDelete')) {\r\n      confirmEmitter.emit({\r\n        data: row.getData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  processDataChange(changes: any) {\r\n    if (this.shouldProcessChange(changes)) {\r\n      this.dataSet.setData(changes['elements']);\r\n      if (this.getSetting('selectMode') !== 'multi') {\r\n        const row = this.determineRowToSelect(changes);\r\n\r\n        if (row) {\r\n          this.onSelectRowSource.next(row);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldProcessChange(changes: any): boolean {\r\n    if (['filter', 'sort', 'page', 'remove', 'refresh', 'load', 'paging'].indexOf(changes['action']) !== -1) {\r\n      return true;\r\n    } else if (['prepend', 'append'].indexOf(changes['action']) !== -1 && !this.getSetting('pager.display')) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // TODO: move to selectable? Separate directive\r\n  determineRowToSelect(changes: any): Row {\r\n\r\n    if (['load', 'page', 'filter', 'sort', 'refresh'].indexOf(changes['action']) !== -1) {\r\n      return this.dataSet.select();\r\n    }\r\n    if (changes['action'] === 'remove') {\r\n      if (changes['elements'].length === 0) {\r\n        // we have to store which one to select as the data will be reloaded\r\n        this.dataSet.willSelectLastRow();\r\n      } else {\r\n        return this.dataSet.selectPreviousRow();\r\n      }\r\n    }\r\n    if (changes['action'] === 'append') {\r\n      // we have to store which one to select as the data will be reloaded\r\n      this.dataSet.willSelectLastRow();\r\n    }\r\n    if (changes['action'] === 'add') {\r\n      return this.dataSet.selectFirstRow();\r\n    }\r\n    if (changes['action'] === 'update') {\r\n      return this.dataSet.selectFirstRow();\r\n    }\r\n    if (changes['action'] === 'prepend') {\r\n      // we have to store which one to select as the data will be reloaded\r\n      this.dataSet.willSelectFirstRow();\r\n    }\r\n    return null;\r\n  }\r\n\r\n  prepareSource(source: any): DataSource {\r\n    const initialSource: any = this.getInitialSort();\r\n    if (initialSource && initialSource['field'] && initialSource['direction']) {\r\n      source.setSort([initialSource], false);\r\n    }\r\n    if (this.getSetting('pager.display') === true) {\r\n      source.setPaging(1, this.getSetting('pager.perPage'), false);\r\n    }\r\n\r\n    source.refresh();\r\n    return source;\r\n  }\r\n\r\n  getInitialSort() {\r\n    const sortConf: any = {};\r\n    this.getColumns().forEach((column: Column) => {\r\n      if (column.isSortable && column.defaultSortDirection) {\r\n        sortConf['field'] = column.id;\r\n        sortConf['direction'] = column.defaultSortDirection;\r\n        sortConf['compare'] = column.getCompareFunction();\r\n      }\r\n    });\r\n    return sortConf;\r\n  }\r\n\r\n  getSelectedRows(): Array<any> {\r\n    return this.dataSet.getRows()\r\n      .filter(r => r.isSelected);\r\n  }\r\n\r\n  selectAllRows(status: any) {\r\n    this.dataSet.getRows()\r\n      .forEach(r => r.isSelected = status);\r\n  }\r\n\r\n  getFirstRow(): Row {\r\n    return this.dataSet.getFirstRow();\r\n  }\r\n\r\n  getLastRow(): Row {\r\n    return this.dataSet.getLastRow();\r\n  }\r\n\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Grid } from '../../lib/grid';\r\nimport { Cell } from '../../lib/data-set/cell';\r\nimport { Row } from '../../lib/data-set/row';\r\n\r\n@Component({\r\n  selector: 'ng2-smart-table-cell',\r\n  template: `\r\n    <table-cell-view-mode *ngIf=\"!isInEditing\" [cell]=\"cell\"></table-cell-view-mode>\r\n    <table-cell-edit-mode *ngIf=\"isInEditing\" [cell]=\"cell\"\r\n                          [inputClass]=\"inputClass\"\r\n                          (edited)=\"onEdited($event)\">\r\n    </table-cell-edit-mode>\r\n  `,\r\n})\r\nexport class CellComponent {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() row: Row;\r\n  @Input() editConfirm: EventEmitter<any>;\r\n  @Input() createConfirm: EventEmitter<any>;\r\n  @Input() isNew: boolean;\r\n  @Input() cell: Cell;\r\n  @Input() inputClass: string = '';\r\n  @Input() mode: string = 'inline';\r\n  @Input() isInEditing: boolean = false;\r\n\r\n  @Output() edited = new EventEmitter<any>();\r\n\r\n  onEdited(event: any) {\r\n    if (this.isNew) {\r\n      this.grid.create(this.grid.getNewRow(), this.createConfirm);\r\n    } else {\r\n      this.grid.save(this.row, this.editConfirm);\r\n    }\r\n  }\r\n}\r\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\r\n\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\nexport class EditCellDefault {\r\n\r\n  @Input() cell: Cell;\r\n  @Input() inputClass: string = '';\r\n\r\n  @Output() edited = new EventEmitter<any>();\r\n\r\n  onEdited(event: any): boolean {\r\n    this.edited.next(event);\r\n    return false;\r\n  }\r\n\r\n  onStopEditing(): boolean {\r\n    this.cell.getRow().isInEditing = false;\r\n    return false;\r\n  }\r\n\r\n  onClick(event: any) {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  OnDestroy,\r\n} from '@angular/core';\r\n\r\nimport { EditCellDefault } from './edit-cell-default';\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n  selector: 'table-cell-custom-editor',\r\n  template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n})\r\nexport class CustomEditComponent extends EditCellDefault implements OnChanges, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget: any;\r\n\r\n  constructor(private resolver: ComponentFactoryResolver) {\r\n    super();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.cell && !this.customComponent) {\r\n      const componentFactory = this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);\r\n      this.customComponent = this.dynamicTarget.createComponent(componentFactory);\r\n\r\n      // set @Inputs and @Outputs of custom component\r\n      this.customComponent.instance.cell = this.cell;\r\n      this.customComponent.instance.inputClass = this.inputClass;\r\n      this.customComponent.instance.onStopEditing.subscribe(() => this.onStopEditing());\r\n      this.customComponent.instance.onEdited.subscribe((event: any) => this.onEdited(event));\r\n      this.customComponent.instance.onClick.subscribe((event: any) => this.onClick(event));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { EditCellDefault } from './edit-cell-default';\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n  selector: 'table-cell-default-editor',\r\n  templateUrl: './default-edit.component.html',\r\n})\r\nexport class DefaultEditComponent extends EditCellDefault {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  getEditorType(): string {\r\n    return this.cell.getColumn().editor && this.cell.getColumn().editor.type;\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n  selector: 'table-cell-edit-mode',\r\n  template: `\r\n      <div [ngSwitch]=\"getEditorType()\">\r\n        <table-cell-custom-editor *ngSwitchCase=\"'custom'\"\r\n                                  [cell]=\"cell\"\r\n                                  [inputClass]=\"inputClass\"\r\n                                  (edited)=\"onEdited($event)\">\r\n        </table-cell-custom-editor>\r\n        <table-cell-default-editor *ngSwitchDefault\r\n                                  [cell]=\"cell\"\r\n                                  [inputClass]=\"inputClass\"\r\n                                  (edited)=\"onEdited($event)\">\r\n        </table-cell-default-editor>\r\n      </div>\r\n    `,\r\n})\r\nexport class EditCellComponent {\r\n\r\n  @Input() cell: Cell;\r\n  @Input() inputClass: string = '';\r\n\r\n  @Output() edited = new EventEmitter<any>();\r\n\r\n  onEdited(event: any): boolean {\r\n    this.edited.next(event);\r\n    return false;\r\n  }\r\n\r\n  getEditorType(): string {\r\n    return this.cell.getColumn().editor && this.cell.getColumn().editor.type;\r\n  }\r\n}\r\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\r\n\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\nexport class DefaultEditor implements Editor {\r\n  @Input() cell: Cell;\r\n  @Input() inputClass: string;\r\n\r\n  @Output() onStopEditing = new EventEmitter<any>();\r\n  @Output() onEdited = new EventEmitter<any>();\r\n  @Output() onClick = new EventEmitter<any>();\r\n}\r\n\r\nexport interface Editor {\r\n  cell: Cell;\r\n  inputClass: string;\r\n  onStopEditing: EventEmitter<any>;\r\n  onEdited: EventEmitter<any>;\r\n  onClick: EventEmitter<any>;\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DefaultEditor } from './default-editor';\r\n\r\n@Component({\r\n  selector: 'checkbox-editor',\r\n  styleUrls: ['./editor.component.scss'],\r\n  template: `\r\n    <input [ngClass]=\"inputClass\"\r\n           type=\"checkbox\"\r\n           class=\"form-control\"\r\n           [name]=\"cell.getId()\"\r\n           [disabled]=\"!cell.isEditable()\"\r\n           [checked]=\"cell.getValue() == (cell.getColumn().getConfig()?.true || true)\"\r\n           (click)=\"onClick.emit($event)\"\r\n           (change)=\"onChange($event)\">\r\n    `,\r\n})\r\nexport class CheckboxEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  onChange(event: any) {\r\n    const trueVal = (this.cell.getColumn().getConfig() && this.cell.getColumn().getConfig().true) || true;\r\n    const falseVal = (this.cell.getColumn().getConfig() && this.cell.getColumn().getConfig().false) || false;\r\n    this.cell.newValue = event.target.checked ? trueVal : falseVal;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CompleterService } from 'ng2-completer';\r\n\r\nimport { DefaultEditor } from './default-editor';\r\n\r\n@Component({\r\n  selector: 'completer-editor',\r\n  template: `\r\n    <ng2-completer [(ngModel)]=\"completerStr\"\r\n                   [dataService]=\"cell.getColumn().getConfig().completer.dataService\"\r\n                   [minSearchLength]=\"cell.getColumn().getConfig().completer.minSearchLength || 0\"\r\n                   [pause]=\"cell.getColumn().getConfig().completer.pause || 0\"\r\n                   [placeholder]=\"cell.getColumn().getConfig().completer.placeholder || 'Start typing...'\"\r\n                   (selected)=\"onEditedCompleter($event)\">\r\n    </ng2-completer>\r\n    `,\r\n})\r\nexport class CompleterEditorComponent extends DefaultEditor implements OnInit {\r\n\r\n  completerStr: string = '';\r\n\r\n  constructor(private completerService: CompleterService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.cell.getColumn().editor && this.cell.getColumn().editor.type === 'completer') {\r\n      const config = this.cell.getColumn().getConfig().completer;\r\n      config.dataService = this.completerService.local(config.data, config.searchFields, config.titleField);\r\n      config.dataService.descriptionField(config.descriptionField);\r\n    }\r\n  }\r\n\r\n  onEditedCompleter(event: { title: '' }): boolean {\r\n    this.cell.newValue = event.title;\r\n    return false;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DefaultEditor } from './default-editor';\r\n\r\n@Component({\r\n  selector: 'input-editor',\r\n  styleUrls: ['./editor.component.scss'],\r\n  template: `\r\n    <input [ngClass]=\"inputClass\"\r\n           class=\"form-control\"\r\n           [(ngModel)]=\"cell.newValue\"\r\n           [name]=\"cell.getId()\"\r\n           [placeholder]=\"cell.getTitle()\"\r\n           [disabled]=\"!cell.isEditable()\"\r\n           (click)=\"onClick.emit($event)\"\r\n           (keydown.enter)=\"onEdited.emit($event)\"\r\n           (keydown.esc)=\"onStopEditing.emit()\">\r\n    `,\r\n})\r\nexport class InputEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DefaultEditor } from './default-editor';\r\n\r\n@Component({\r\n  selector: 'select-editor',\r\n  template: `\r\n    <select [ngClass]=\"inputClass\"\r\n            class=\"form-control\"\r\n            [(ngModel)]=\"cell.newValue\"\r\n            [name]=\"cell.getId()\"\r\n            [disabled]=\"!cell.isEditable()\"\r\n            (click)=\"onClick.emit($event)\"\r\n            (keydown.enter)=\"onEdited.emit($event)\"\r\n            (keydown.esc)=\"onStopEditing.emit()\">\r\n\r\n        <option *ngFor=\"let option of cell.getColumn().getConfig()?.list\" [value]=\"option.value\"\r\n                [selected]=\"option.value === cell.getValue()\">{{ option.title }}\r\n        </option>\r\n    </select>\r\n    `,\r\n})\r\nexport class SelectEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DefaultEditor } from './default-editor';\r\n\r\n@Component({\r\n  selector: 'textarea-editor',\r\n  styleUrls: ['./editor.component.scss'],\r\n  template: `\r\n    <textarea [ngClass]=\"inputClass\"\r\n              class=\"form-control\"\r\n              [(ngModel)]=\"cell.newValue\"\r\n              [name]=\"cell.getId()\"\r\n              [disabled]=\"!cell.isEditable()\"\r\n              [placeholder]=\"cell.getTitle()\"\r\n              (click)=\"onClick.emit($event)\"\r\n              (keydown.enter)=\"onEdited.emit($event)\"\r\n              (keydown.esc)=\"onStopEditing.emit()\">\r\n    </textarea>\r\n    `,\r\n})\r\nexport class TextareaEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ComponentFactoryResolver,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  OnInit,\r\n  OnDestroy,\r\n} from '@angular/core';\r\n\r\nimport { Cell } from '../../../lib/data-set/cell';\r\nimport { ViewCell } from './view-cell';\r\n\r\n@Component({\r\n  selector: 'custom-view-component',\r\n  template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n})\r\nexport class CustomViewComponent implements OnInit, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @Input() cell: Cell;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget: any;\r\n\r\n  constructor(private resolver: ComponentFactoryResolver) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.cell && !this.customComponent) {\r\n      this.createCustomComponent();\r\n      this.callOnComponentInit();\r\n      this.patchInstance();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n\r\n  protected createCustomComponent() {\r\n    const componentFactory = this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);\r\n    this.customComponent = this.dynamicTarget.createComponent(componentFactory);\r\n  }\r\n\r\n  protected callOnComponentInit() {\r\n    const onComponentInitFunction = this.cell.getColumn().getOnComponentInitFunction();\r\n    onComponentInitFunction && onComponentInitFunction(this.customComponent.instance);\r\n  }\r\n\r\n  protected patchInstance() {\r\n    Object.assign(this.customComponent.instance, this.getPatch());\r\n  }\r\n\r\n  protected getPatch(): ViewCell {\r\n    return {\r\n      value: this.cell.getValue(),\r\n      rowData: this.cell.getRow().getData()\r\n    }\r\n  }\r\n}\r\n","import {Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n  selector: 'table-cell-view-mode',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <div [ngSwitch]=\"cell.getColumn().type\">\r\n        <custom-view-component *ngSwitchCase=\"'custom'\" [cell]=\"cell\"></custom-view-component>\r\n        <div *ngSwitchCase=\"'html'\" [innerHTML]=\"cell.getValue()\"></div>\r\n        <div *ngSwitchDefault>{{ cell.getValue() }}</div>\r\n    </div>\r\n    `,\r\n})\r\nexport class ViewCellComponent {\r\n\r\n  @Input() cell: Cell;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Ng2CompleterModule } from 'ng2-completer';\r\n\r\nimport { CellComponent } from './cell.component';\r\nimport { CustomEditComponent } from './cell-edit-mode/custom-edit.component';\r\nimport { DefaultEditComponent } from './cell-edit-mode/default-edit.component';\r\nimport { EditCellComponent } from './cell-edit-mode/edit-cell.component';\r\nimport { CheckboxEditorComponent } from './cell-editors/checkbox-editor.component';\r\nimport { CompleterEditorComponent } from './cell-editors/completer-editor.component';\r\nimport { InputEditorComponent } from './cell-editors/input-editor.component';\r\nimport { SelectEditorComponent } from './cell-editors/select-editor.component';\r\nimport { TextareaEditorComponent } from './cell-editors/textarea-editor.component';\r\nimport { CustomViewComponent } from './cell-view-mode/custom-view.component';\r\nimport { ViewCellComponent } from './cell-view-mode/view-cell.component';\r\n\r\nconst CELL_COMPONENTS = [\r\n  CellComponent,\r\n  CustomEditComponent,\r\n  DefaultEditComponent,\r\n  EditCellComponent,\r\n  CheckboxEditorComponent,\r\n  CompleterEditorComponent,\r\n  InputEditorComponent,\r\n  SelectEditorComponent,\r\n  TextareaEditorComponent,\r\n  CustomViewComponent,\r\n  ViewCellComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    Ng2CompleterModule,\r\n  ],\r\n  declarations: [\r\n    ...CELL_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...CELL_COMPONENTS,\r\n  ],\r\n})\r\nexport class CellModule { }\r\n","import { Subject } from 'rxjs';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport abstract class DataSource {\r\n\r\n  protected onChangedSource = new Subject<any>();\r\n  protected onAddedSource = new Subject<any>();\r\n  protected onUpdatedSource = new Subject<any>();\r\n  protected onRemovedSource = new Subject<any>();\r\n\r\n  abstract getAll(): Promise<any>;\r\n  abstract getElements(): Promise<any>;\r\n  abstract getSort(): any;\r\n  abstract getFilter(): any;\r\n  abstract getPaging(): any;\r\n  abstract count(): number;\r\n\r\n  refresh() {\r\n    this.emitOnChanged('refresh');\r\n  }\r\n\r\n  load(data: Array<any>): Promise<any> {\r\n    this.emitOnChanged('load');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  onChanged(): Observable<any> {\r\n    return this.onChangedSource.asObservable();\r\n  }\r\n\r\n  onAdded(): Observable<any> {\r\n    return this.onAddedSource.asObservable();\r\n  }\r\n\r\n  onUpdated(): Observable<any> {\r\n    return this.onUpdatedSource.asObservable();\r\n  }\r\n\r\n  onRemoved(): Observable<any> {\r\n    return this.onRemovedSource.asObservable();\r\n  }\r\n\r\n  prepend(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('prepend');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  append(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('append');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  add(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('add');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  remove(element: any): Promise<any> {\r\n    this.emitOnRemoved(element);\r\n    this.emitOnChanged('remove');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  update(element: any, values: any): Promise<any> {\r\n    this.emitOnUpdated(element);\r\n    this.emitOnChanged('update');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  empty(): Promise<any> {\r\n    this.emitOnChanged('empty');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  setSort(conf: Array<any>, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('sort');\r\n    }\r\n  }\r\n\r\n  setFilter(conf: Array<any>, andOperator?: boolean, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('filter');\r\n    }\r\n  }\r\n\r\n  addFilter(fieldConf: {}, andOperator?: boolean, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('filter');\r\n    }\r\n  }\r\n\r\n  setPaging(page: number, perPage: number, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('paging');\r\n    }\r\n  }\r\n\r\n  setPage(page: number, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('page');\r\n    }\r\n  }\r\n\r\n  protected emitOnRemoved(element: any) {\r\n    this.onRemovedSource.next(element);\r\n  }\r\n\r\n  protected emitOnUpdated(element: any) {\r\n    this.onUpdatedSource.next(element);\r\n  }\r\n\r\n  protected emitOnAdded(element: any) {\r\n    this.onAddedSource.next(element);\r\n  }\r\n\r\n  protected emitOnChanged(action: string) {\r\n    this.getElements().then((elements) => this.onChangedSource.next({\r\n      action: action,\r\n      elements: elements,\r\n      paging: this.getPaging(),\r\n      filter: this.getFilter(),\r\n      sort: this.getSort(),\r\n    }));\r\n  }\r\n}\r\n","import { Output, EventEmitter, Input } from '@angular/core';\r\n\r\nimport { Column } from '../../lib/data-set/column';\r\nimport { DataSource } from '../../lib/data-source/data-source';\r\n\r\nexport class FilterDefault {\r\n\r\n  @Input() column: Column;\r\n  @Input() source: DataSource;\r\n  @Input() inputClass: string = '';\r\n\r\n  @Output() filter = new EventEmitter<any>();\r\n\r\n  query: string = '';\r\n\r\n  onFilter(query: string) {\r\n    this.source.addFilter({\r\n      field: this.column.id,\r\n      search: query,\r\n      filter: this.column.getFilterFunction(),\r\n    });\r\n  }\r\n}\r\n","import { Component, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FilterDefault } from './filter-default';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'ng2-smart-table-filter',\r\n  styleUrls: ['./filter.component.scss'],\r\n  template: `\r\n      <div class=\"ng2-smart-filter\" *ngIf=\"column.isFilterable\" [ngSwitch]=\"column.getFilterType()\">\r\n        <custom-table-filter *ngSwitchCase=\"'custom'\"\r\n                             [query]=\"query\"\r\n                             [column]=\"column\"\r\n                             [source]=\"source\"\r\n                             [inputClass]=\"inputClass\"\r\n                             (filter)=\"onFilter($event)\">\r\n        </custom-table-filter>\r\n        <default-table-filter *ngSwitchDefault\r\n                              [query]=\"query\"\r\n                              [column]=\"column\"\r\n                              [source]=\"source\"\r\n                              [inputClass]=\"inputClass\"\r\n                              (filter)=\"onFilter($event)\">\r\n        </default-table-filter>\r\n      </div>\r\n    `,\r\n})\r\nexport class FilterComponent extends FilterDefault implements OnChanges {\r\n  query: string = '';\r\n  protected dataChangedSub: Subscription;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (!changes.source.firstChange) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe((dataChanges) => {\r\n        const filterConf = this.source.getFilter();\r\n        if (filterConf && filterConf.filters && filterConf.filters.length === 0) {\r\n          this.query = '';\r\n\r\n          // add a check for existing filters an set the query if one exists for this column\r\n          // this covers instances where the filter is set by user code while maintaining existing functionality\r\n        } else if (filterConf && filterConf.filters && filterConf.filters.length > 0) {\r\n          filterConf.filters.forEach((k: any, v: any) => {\r\n            if (k.field == this.column.id) {\r\n              this.query = k.search;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {Component, Input} from '@angular/core';\r\n\r\nimport {FilterDefault} from \"./filter-default\";\r\n\r\n@Component({\r\n  selector: 'default-table-filter',\r\n  template: `\r\n    <ng-container [ngSwitch]=\"column.getFilterType()\">\r\n      <select-filter *ngSwitchCase=\"'list'\"\r\n                     [query]=\"query\"\r\n                     [ngClass]=\"inputClass\"\r\n                     [column]=\"column\"\r\n                     (filter)=\"onFilter($event)\">\r\n      </select-filter>\r\n      <checkbox-filter *ngSwitchCase=\"'checkbox'\"\r\n                       [query]=\"query\"\r\n                       [ngClass]=\"inputClass\"\r\n                       [column]=\"column\"\r\n                       (filter)=\"onFilter($event)\">\r\n      </checkbox-filter>\r\n      <completer-filter *ngSwitchCase=\"'completer'\"\r\n                        [query]=\"query\"\r\n                        [ngClass]=\"inputClass\"\r\n                        [column]=\"column\"\r\n                        (filter)=\"onFilter($event)\">\r\n      </completer-filter>\r\n      <input-filter *ngSwitchDefault\r\n                    [query]=\"query\"\r\n                    [ngClass]=\"inputClass\"\r\n                    [column]=\"column\"\r\n                    (filter)=\"onFilter($event)\">\r\n      </input-filter>\r\n    </ng-container>\r\n  `,\r\n})\r\nexport class DefaultFilterComponent extends FilterDefault {\r\n  @Input() query: string;\r\n}\r\n","import {\r\n  Component,\r\n  ComponentFactoryResolver, Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { FilterDefault } from './filter-default';\r\n\r\n@Component({\r\n  selector: 'custom-table-filter',\r\n  template: `<ng-template #dynamicTarget></ng-template>`,\r\n})\r\nexport class CustomFilterComponent extends FilterDefault implements OnChanges, OnDestroy {\r\n  @Input() query: string;\r\n  customComponent: any;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget: any;\r\n\r\n  constructor(private resolver: ComponentFactoryResolver) {\r\n    super();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.column && !this.customComponent) {\r\n      const componentFactory = this.resolver.resolveComponentFactory(this.column.filter.component);\r\n      this.customComponent = this.dynamicTarget.createComponent(componentFactory);\r\n\r\n      // set @Inputs and @Outputs of custom component\r\n      this.customComponent.instance.query = this.query;\r\n      this.customComponent.instance.column = this.column;\r\n      this.customComponent.instance.source = this.source;\r\n      this.customComponent.instance.inputClass = this.inputClass;\r\n      this.customComponent.instance.filter.subscribe((event: any) => this.onFilter(event));\r\n    }\r\n    if (this.customComponent) {\r\n      this.customComponent.instance.ngOnChanges(changes);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n}\r\n","import { Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { Column } from '../../../lib/data-set/column';\r\n\r\nexport class DefaultFilter implements Filter, OnDestroy {\r\n\r\n  delay: number = 300;\r\n  changesSubscription: Subscription;\r\n  @Input() query: string;\r\n  @Input() inputClass: string;\r\n  @Input() column: Column;\r\n  @Output() filter = new EventEmitter<string>();\r\n\r\n  ngOnDestroy() {\r\n    if (this.changesSubscription) {\r\n      this.changesSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  setFilter() {\r\n    this.filter.emit(this.query);\r\n  }\r\n}\r\n\r\nexport interface Filter {\r\n\r\n  delay?: number;\r\n  changesSubscription?: Subscription;\r\n  query: string;\r\n  inputClass: string;\r\n  column: Column;\r\n  filter: EventEmitter<string>;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\n\r\nimport { DefaultFilter } from './default-filter';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'checkbox-filter',\r\n  template: `\r\n    <input type=\"checkbox\" [formControl]=\"inputControl\" [ngClass]=\"inputClass\" class=\"form-control\">\r\n    <a href=\"#\" *ngIf=\"filterActive\"\r\n                (click)=\"resetFilter($event)\">{{column.getFilterConfig()?.resetText || 'reset'}}</a>\r\n  `,\r\n})\r\nexport class CheckboxFilterComponent extends DefaultFilter implements OnInit {\r\n\r\n  filterActive: boolean = false;\r\n  inputControl = new FormControl();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.changesSubscription = this.inputControl.valueChanges\r\n      .pipe(debounceTime(this.delay))\r\n      .subscribe((checked: boolean) => {\r\n        this.filterActive = true;\r\n        const trueVal = (this.column.getFilterConfig() && this.column.getFilterConfig().true) || true;\r\n        const falseVal = (this.column.getFilterConfig() && this.column.getFilterConfig().false) || false;\r\n        this.query = checked ? trueVal : falseVal;\r\n        this.setFilter();\r\n      });\r\n  }\r\n\r\n  resetFilter(event: any) {\r\n    event.preventDefault();\r\n    this.query = '';\r\n    this.inputControl.setValue(false, { emitEvent: false });\r\n    this.filterActive = false;\r\n    this.setFilter();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { CompleterService } from 'ng2-completer';\r\n\r\nimport { DefaultFilter } from './default-filter';\r\nimport { distinctUntilChanged, debounceTime, map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'completer-filter',\r\n  template: `\r\n    <ng2-completer [(ngModel)]=\"query\"\r\n                   (ngModelChange)=\"inputTextChanged($event)\"\r\n                   [dataService]=\"column.getFilterConfig().completer.dataService\"\r\n                   [minSearchLength]=\"column.getFilterConfig().completer.minSearchLength || 0\"\r\n                   [pause]=\"column.getFilterConfig().completer.pause || 0\"\r\n                   [placeholder]=\"column.getFilterConfig().completer.placeholder || 'Start typing...'\"\r\n                   (selected)=\"completerContent.next($event)\">\r\n    </ng2-completer>\r\n  `,\r\n})\r\nexport class CompleterFilterComponent extends DefaultFilter implements OnInit {\r\n\r\n  completerContent = new Subject<any>();\r\n\r\n  constructor(private completerService: CompleterService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    const config = this.column.getFilterConfig().completer;\r\n    config.dataService = this.completerService.local(config.data, config.searchFields, config.titleField);\r\n    config.dataService.descriptionField(config.descriptionField);\r\n\r\n    this.changesSubscription = this.completerContent\r\n      .pipe(\r\n        map((ev: any) => (ev && ev.title) || ev || ''),\r\n        distinctUntilChanged(),\r\n        debounceTime(this.delay)\r\n      )\r\n      .subscribe((search: string) => {\r\n        this.query = search;\r\n        this.setFilter();\r\n      });\r\n  }\r\n\r\n  inputTextChanged(event: string) {\r\n    // workaround to trigger the search event when the home/end buttons are clicked\r\n    // when this happens the [(ngModel)]=\"query\" is set to \"\" but the (selected) method is not called\r\n    // so here it gets called manually\r\n    if (event === '') {\r\n      this.completerContent.next(event);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { debounceTime, distinctUntilChanged, skip } from 'rxjs/operators';\r\n\r\nimport { DefaultFilter } from './default-filter';\r\n\r\n@Component({\r\n  selector: 'input-filter',\r\n  template: `\r\n    <input\r\n      [ngClass]=\"inputClass\"\r\n      [formControl]=\"inputControl\"\r\n      class=\"form-control\"\r\n      type=\"text\"\r\n      placeholder=\"{{ column.title }}\"/>\r\n  `,\r\n})\r\nexport class InputFilterComponent extends DefaultFilter implements OnInit, OnChanges {\r\n\r\n  inputControl = new FormControl();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.query) {\r\n      this.inputControl.setValue(this.query);\r\n    }\r\n    this.inputControl.valueChanges\r\n      .pipe(\r\n        distinctUntilChanged(),\r\n        debounceTime(this.delay),\r\n      )\r\n      .subscribe((value: string) => {\r\n        this.query = this.inputControl.value;\r\n        this.setFilter();\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.query) {\r\n      this.inputControl.setValue(this.query);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\nimport { distinctUntilChanged, debounceTime, skip } from 'rxjs/operators';\r\n\r\nimport { DefaultFilter } from './default-filter';\r\n\r\n@Component({\r\n  selector: 'select-filter',\r\n  template: `\r\n    <select [ngClass]=\"inputClass\"\r\n            class=\"form-control\"\r\n            #inputControl\r\n            [(ngModel)]=\"query\">\r\n\r\n        <option value=\"\">{{ column.getFilterConfig().selectText }}</option>\r\n        <option *ngFor=\"let option of column.getFilterConfig().list\" [value]=\"option.value\">\r\n          {{ option.title }}\r\n        </option>\r\n    </select>\r\n  `,\r\n})\r\nexport class SelectFilterComponent extends DefaultFilter implements OnInit {\r\n\r\n  @ViewChild('inputControl', { read: NgControl, static: true }) inputControl: NgControl;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.inputControl.valueChanges\r\n      .pipe(\r\n        skip(1),\r\n        distinctUntilChanged(),\r\n        debounceTime(this.delay)\r\n      )\r\n      .subscribe((value: string) => this.setFilter());\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Ng2CompleterModule } from 'ng2-completer';\r\n\r\nimport { FilterComponent } from './filter.component';\r\nimport { DefaultFilterComponent } from \"./default-filter.component\";\r\nimport { CustomFilterComponent } from \"./custom-filter.component\";\r\nimport { CheckboxFilterComponent } from './filter-types/checkbox-filter.component';\r\nimport { CompleterFilterComponent } from './filter-types/completer-filter.component';\r\nimport { InputFilterComponent } from './filter-types/input-filter.component';\r\nimport { SelectFilterComponent } from './filter-types/select-filter.component';\r\n\r\nconst FILTER_COMPONENTS = [\r\n  FilterComponent,\r\n  DefaultFilterComponent,\r\n  CustomFilterComponent,\r\n  CheckboxFilterComponent,\r\n  CompleterFilterComponent,\r\n  InputFilterComponent,\r\n  SelectFilterComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    Ng2CompleterModule,\r\n  ],\r\n  declarations: [\r\n    ...FILTER_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...FILTER_COMPONENTS,\r\n  ],\r\n})\r\nexport class FilterModule { }\r\n","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { DataSource } from '../../lib/data-source/data-source';\r\n\r\n@Component({\r\n  selector: 'ng2-smart-table-pager',\r\n  styleUrls: ['./pager.component.scss'],\r\n  template: `\r\n    <nav *ngIf=\"shouldShow()\" class=\"ng2-smart-pagination-nav\">\r\n      <ul class=\"ng2-smart-pagination pagination\">\r\n        <li class=\"ng2-smart-page-item page-item\" [ngClass]=\"{disabled: getPage() == 1}\">\r\n          <a class=\"ng2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"getPage() == 1 ? false : paginate(1)\" aria-label=\"First\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n            <span class=\"sr-only\">First</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"ng2-smart-page-item page-item\" [ngClass]=\"{disabled: getPage() == 1}\">\r\n          <a class=\"ng2-smart-page-link page-link page-link-prev\" href=\"#\"\r\n             (click)=\"getPage() == 1 ? false : prev()\" aria-label=\"Prev\">\r\n            <span aria-hidden=\"true\">&lt;</span>\r\n            <span class=\"sr-only\">Prev</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"ng2-smart-page-item page-item\"\r\n        [ngClass]=\"{active: getPage() == page}\" *ngFor=\"let page of getPages()\">\r\n          <span class=\"ng2-smart-page-link page-link\"\r\n          *ngIf=\"getPage() == page\">{{ page }} <span class=\"sr-only\">(current)</span></span>\r\n          <a class=\"ng2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"paginate(page)\" *ngIf=\"getPage() != page\">{{ page }}</a>\r\n        </li>\r\n\r\n        <li class=\"ng2-smart-page-item page-item\"\r\n            [ngClass]=\"{disabled: getPage() == getLast()}\">\r\n          <a class=\"ng2-smart-page-link page-link page-link-next\" href=\"#\"\r\n             (click)=\"getPage() == getLast() ? false : next()\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&gt;</span>\r\n            <span class=\"sr-only\">Next</span>\r\n          </a>\r\n        </li>\r\n        \r\n        <li class=\"ng2-smart-page-item page-item\"\r\n        [ngClass]=\"{disabled: getPage() == getLast()}\">\r\n          <a class=\"ng2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"getPage() == getLast() ? false : paginate(getLast())\" aria-label=\"Last\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n            <span class=\"sr-only\">Last</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    \r\n    <nav *ngIf=\"perPageSelect && perPageSelect.length > 0\" class=\"ng2-smart-pagination-per-page\">\r\n      <label for=\"per-page\">\r\n        Per Page:\r\n      </label>\r\n      <select (change)=\"onChangePerPage($event)\" [(ngModel)]=\"currentPerPage\" id=\"per-page\">\r\n        <option *ngFor=\"let item of perPageSelect\" [value]=\"item\">{{ item }}</option>\r\n      </select>\r\n    </nav>\r\n  `,\r\n})\r\nexport class PagerComponent implements OnChanges {\r\n\r\n  @Input() source: DataSource;\r\n  @Input() perPageSelect: any[] = [];\r\n\r\n  @Output() changePage = new EventEmitter<any>();\r\n\r\n  currentPerPage: any;\r\n\r\n  protected pages: Array<any>;\r\n  protected page: number;\r\n  protected count: number = 0;\r\n  protected perPage: number;\r\n\r\n  protected dataChangedSub: Subscription;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (!changes.source.firstChange) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe((dataChanges) => {\r\n        this.page = this.source.getPaging().page;\r\n        this.perPage = this.source.getPaging().perPage;\r\n        this.currentPerPage = this.perPage;\r\n        this.count = this.source.count();\r\n        if (this.isPageOutOfBounce()) {\r\n          this.source.setPage(--this.page);\r\n        }\r\n\r\n        this.processPageChange(dataChanges);\r\n        this.initPages();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * We change the page here depending on the action performed against data source\r\n   * if a new element was added to the end of the table - then change the page to the last\r\n   * if a new element was added to the beginning of the table - then to the first page\r\n   * @param changes\r\n   */\r\n  processPageChange(changes: any) {\r\n    if (changes['action'] === 'prepend') {\r\n      this.source.setPage(1);\r\n    }\r\n    if (changes['action'] === 'append') {\r\n      this.source.setPage(this.getLast());\r\n    }\r\n  }\r\n\r\n  shouldShow(): boolean {\r\n    return this.source.count() > this.perPage;\r\n  }\r\n\r\n  paginate(page: number): boolean {\r\n    this.source.setPage(page);\r\n    this.page = page;\r\n    this.changePage.emit({ page });\r\n    return false;\r\n  }\r\n\r\n  next(): boolean {\r\n    return this.paginate(this.getPage() + 1);\r\n  }\r\n\r\n  prev(): boolean {\r\n    return this.paginate(this.getPage() - 1);\r\n  }\r\n\r\n  getPage(): number {\r\n    return this.page;\r\n  }\r\n\r\n  getPages(): Array<any> {\r\n    return this.pages;\r\n  }\r\n\r\n  getLast(): number {\r\n    return Math.ceil(this.count / this.perPage);\r\n  }\r\n\r\n  isPageOutOfBounce(): boolean {\r\n    return (this.page * this.perPage) >= (this.count + this.perPage) && this.page > 1;\r\n  }\r\n\r\n  initPages() {\r\n    const pagesCount = this.getLast();\r\n    let showPagesCount = 4;\r\n    showPagesCount = pagesCount < showPagesCount ? pagesCount : showPagesCount;\r\n    this.pages = [];\r\n\r\n    if (this.shouldShow()) {\r\n\r\n      let middleOne = Math.ceil(showPagesCount / 2);\r\n      middleOne = this.page >= middleOne ? this.page : middleOne;\r\n\r\n      let lastOne = middleOne + Math.floor(showPagesCount / 2);\r\n      lastOne = lastOne >= pagesCount ? pagesCount : lastOne;\r\n\r\n      const firstOne = lastOne - showPagesCount + 1;\r\n\r\n      for (let i = firstOne; i <= lastOne; i++) {\r\n        this.pages.push(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  onChangePerPage(event: any) {\r\n    if (this.currentPerPage) {\r\n\r\n      if (typeof this.currentPerPage === 'string' && this.currentPerPage.toLowerCase() === 'all') {\r\n        this.source.getPaging().perPage = null;\r\n      } else {\r\n        this.source.getPaging().perPage = this.currentPerPage * 1;\r\n        this.source.refresh();\r\n      }\r\n      this.initPages();\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { PagerComponent } from './pager.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n  ],\r\n  declarations: [\r\n    PagerComponent,\r\n  ],\r\n  exports: [\r\n    PagerComponent,\r\n  ],\r\n})\r\nexport class PagerModule { }\r\n","import {Component, Input, Output, EventEmitter, } from '@angular/core';\r\n\r\nimport { Grid } from '../../lib/grid';\r\nimport { Row } from '../../lib/data-set/row';\r\nimport { DataSource } from '../../lib/data-source/data-source';\r\nimport {Column} from \"../../lib/data-set/column\";\r\n\r\n@Component({\r\n  selector: '[ng2-st-tbody]',\r\n  styleUrls: ['./tbody.component.scss'],\r\n  templateUrl: './tbody.component.html',\r\n})\r\nexport class Ng2SmartTableTbodyComponent {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() source: DataSource;\r\n  @Input() deleteConfirm: EventEmitter<any>;\r\n  @Input() editConfirm: EventEmitter<any>;\r\n  @Input() rowClassFunction: Function;\r\n\r\n  @Output() save = new EventEmitter<any>();\r\n  @Output() cancel = new EventEmitter<any>();\r\n  @Output() edit = new EventEmitter<any>();\r\n  @Output() delete = new EventEmitter<any>();\r\n  @Output() custom = new EventEmitter<any>();\r\n  @Output() edited = new EventEmitter<any>();\r\n  @Output() userSelectRow = new EventEmitter<any>();\r\n  @Output() editRowSelect = new EventEmitter<any>();\r\n  @Output() multipleSelectRow = new EventEmitter<any>();\r\n  @Output() rowHover = new EventEmitter<any>();\r\n\r\n  isMultiSelectVisible: boolean;\r\n  showActionColumnLeft: boolean;\r\n  showActionColumnRight: boolean;\r\n  mode: string;\r\n  editInputClass: string;\r\n  isActionAdd: boolean;\r\n  isActionEdit: boolean;\r\n  isActionDelete: boolean;\r\n  noDataMessage: boolean;\r\n\r\n  get tableColumnsCount() {\r\n    const actionColumns = this.isActionAdd || this.isActionEdit || this.isActionDelete ? 1 : 0;\r\n    return this.grid.getColumns().length + actionColumns;\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.mode = this.grid.getSetting('mode');\r\n    this.editInputClass = this.grid.getSetting('edit.inputClass');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.isActionAdd = this.grid.getSetting('actions.add');\r\n    this.isActionEdit = this.grid.getSetting('actions.edit');\r\n    this.isActionDelete = this.grid.getSetting('actions.delete');\r\n    this.noDataMessage = this.grid.getSetting('noDataMessage');\r\n  }\r\n}\r\n","import { Component, Input, EventEmitter, OnChanges } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { Row } from '../../../lib/data-set/row';\r\n\r\n@Component({\r\n  selector: 'ng2-st-tbody-create-cancel',\r\n  template: `\r\n    <a href=\"#\" class=\"ng2-smart-action ng2-smart-action-edit-save\"\r\n        [innerHTML]=\"saveButtonContent\" (click)=\"onSave($event)\"></a>\r\n    <a href=\"#\" class=\"ng2-smart-action ng2-smart-action-edit-cancel\"\r\n        [innerHTML]=\"cancelButtonContent\" (click)=\"onCancelEdit($event)\"></a>\r\n  `,\r\n})\r\nexport class TbodyCreateCancelComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() row: Row;\r\n  @Input() editConfirm: EventEmitter<any>;\r\n\r\n  cancelButtonContent: string;\r\n  saveButtonContent: string;\r\n\r\n  onSave(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.grid.save(this.row, this.editConfirm);\r\n  }\r\n\r\n  onCancelEdit(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.row.isInEditing = false;\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.saveButtonContent = this.grid.getSetting('edit.saveButtonContent');\r\n    this.cancelButtonContent = this.grid.getSetting('edit.cancelButtonContent')\r\n  }\r\n}\r\n","import {Component, Input, Output, EventEmitter, OnChanges, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { Row } from '../../../lib/data-set/row';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\n\r\n@Component({\r\n  selector: 'ng2-st-tbody-edit-delete',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <a href=\"#\" *ngIf=\"isActionEdit\" class=\"ng2-smart-action ng2-smart-action-edit-edit\"\r\n        [innerHTML]=\"editRowButtonContent\" (click)=\"onEdit($event)\"></a>\r\n    <a href=\"#\" *ngIf=\"isActionDelete\" class=\"ng2-smart-action ng2-smart-action-delete-delete\"\r\n        [innerHTML]=\"deleteRowButtonContent\" (click)=\"onDelete($event)\"></a>\r\n  `,\r\n})\r\nexport class TbodyEditDeleteComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() row: Row;\r\n  @Input() source: DataSource;\r\n  @Input() deleteConfirm: EventEmitter<any>;\r\n  @Input() editConfirm: EventEmitter<any>;\r\n\r\n  @Output() edit = new EventEmitter<any>();\r\n  @Output() delete = new EventEmitter<any>();\r\n  @Output() editRowSelect = new EventEmitter<any>();\r\n\r\n  isActionEdit: boolean;\r\n  isActionDelete: boolean;\r\n  editRowButtonContent: string;\r\n  deleteRowButtonContent: string;\r\n\r\n  onEdit(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.editRowSelect.emit(this.row);\r\n\r\n    if (this.grid.getSetting('mode') === 'external') {\r\n      this.edit.emit({\r\n        data: this.row.getData(),\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.edit(this.row);\r\n    }\r\n  }\r\n\r\n  onDelete(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    if (this.grid.getSetting('mode') === 'external') {\r\n      this.delete.emit({\r\n        data: this.row.getData(),\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.delete(this.row, this.deleteConfirm);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(){\r\n    this.isActionEdit = this.grid.getSetting('actions.edit');\r\n    this.isActionDelete = this.grid.getSetting('actions.delete');\r\n    this.editRowButtonContent = this.grid.getSetting('edit.editButtonContent');\r\n    this.deleteRowButtonContent = this.grid.getSetting('delete.deleteButtonContent');\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Row } from '../../../lib/data-set/row';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\n\r\n@Component({\r\n    selector: 'ng2-st-tbody-custom',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `\r\n      <a *ngFor=\"let action of grid.getSetting('actions.custom')\" href=\"#\"\r\n         class=\"ng2-smart-action ng2-smart-action-custom-custom\" \r\n         [innerHTML]=\"action.title\"\r\n         (click)=\"onCustom(action, $event)\"></a>\r\n        `\r\n})\r\nexport class TbodyCustomComponent {\r\n\r\n    @Input() grid: Grid;\r\n    @Input() row: Row;\r\n    @Input() source: any;\r\n    @Output() custom = new EventEmitter<any>();\r\n\r\n    onCustom(action: any, event: any) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.custom.emit({\r\n            action: action.name,\r\n            data: this.row.getData(),\r\n            source: this.source\r\n        });\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { CellModule } from '../cell/cell.module';\r\n\r\nimport { Ng2SmartTableTbodyComponent } from './tbody.component';\r\nimport { TbodyCreateCancelComponent } from './cells/create-cancel.component';\r\nimport { TbodyEditDeleteComponent } from './cells/edit-delete.component';\r\nimport { TbodyCustomComponent } from './cells/custom.component';\r\n\r\nconst TBODY_COMPONENTS = [\r\n  TbodyCreateCancelComponent,\r\n  TbodyEditDeleteComponent,\r\n  TbodyCustomComponent,\r\n  Ng2SmartTableTbodyComponent\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CellModule,\r\n  ],\r\n  declarations: [\r\n    ...TBODY_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...TBODY_COMPONENTS,\r\n  ],\r\n})\r\nexport class TBodyModule { }\r\n","import {Component, Input, Output, EventEmitter, OnChanges} from '@angular/core';\r\n\r\nimport { Grid } from '../../lib/grid';\r\nimport { DataSource } from '../../lib/data-source/data-source';\r\n\r\n@Component({\r\n    selector: '[ng2-st-thead]',\r\n    templateUrl: './thead.component.html',\r\n})\r\nexport class Ng2SmartTableTheadComponent implements OnChanges {\r\n\r\n    @Input() grid: Grid;\r\n    @Input() source: DataSource;\r\n    @Input() isAllSelected: boolean;\r\n    @Input() createConfirm: EventEmitter<any>;\r\n\r\n    @Output() sort = new EventEmitter<any>();\r\n    @Output() selectAllRows = new EventEmitter<any>();\r\n    @Output() create = new EventEmitter<any>();\r\n    @Output() filter = new EventEmitter<any>();\r\n    @Output() onSortTable = new EventEmitter<any>();\r\n    isHideHeader: boolean;\r\n    isHideSubHeader: boolean;\r\n\r\n  ngOnChanges() {\r\n      this.isHideHeader = this.grid.getSetting('hideHeader');\r\n      this.isHideSubHeader = this.grid.getSetting('hideSubHeader');\r\n    }\r\n}\r\n","import {Component, Input, Output, EventEmitter, OnChanges } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\n\r\n@Component({\r\n  selector: 'ng2-st-actions',\r\n  template: `\r\n    <a href=\"#\" class=\"ng2-smart-action ng2-smart-action-add-create\"\r\n        [innerHTML]=\"createButtonContent\"\r\n        (click)=\"$event.preventDefault();create.emit($event)\"></a>\r\n    <a href=\"#\" class=\"ng2-smart-action ng2-smart-action-add-cancel\"\r\n        [innerHTML]=\"cancelButtonContent\"\r\n        (click)=\"$event.preventDefault();grid.createFormShown = false;\"></a>\r\n  `,\r\n})\r\nexport class ActionsComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Output() create = new EventEmitter<any>();\r\n\r\n  createButtonContent: string;\r\n  cancelButtonContent: string;\r\n\r\n  ngOnChanges() {\r\n    this.createButtonContent = this.grid.getSetting('add.createButtonContent');\r\n    this.cancelButtonContent = this.grid.getSetting('add.cancelButtonContent');\r\n  }\r\n}\r\n","import {Component, Input, AfterViewInit, ElementRef, OnChanges} from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\n\r\n@Component({\r\n  selector: '[ng2-st-actions-title]',\r\n  template: `\r\n    <div class=\"ng2-smart-title\">{{ actionsColumnTitle }}</div>\r\n  `,\r\n})\r\nexport class ActionsTitleComponent implements AfterViewInit, OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n\r\n  actionsColumnTitle: string;\r\n\r\n  constructor(private ref: ElementRef) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.ref.nativeElement.classList.add('ng2-smart-actions');\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.actionsColumnTitle = this.grid.getSetting('actions.columnTitle');\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, AfterViewInit, ElementRef, OnChanges } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\n\r\n@Component({\r\n  selector: '[ng2-st-add-button]',\r\n  template: `\r\n    <a *ngIf=\"isActionAdd\" href=\"#\" class=\"ng2-smart-action ng2-smart-action-add-add\"\r\n        [innerHTML]=\"addNewButtonContent\" (click)=\"onAdd($event)\"></a>\r\n  `,\r\n})\r\nexport class AddButtonComponent implements AfterViewInit, OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() source: DataSource;\r\n  @Output() create = new EventEmitter<any>();\r\n\r\n  isActionAdd: boolean;\r\n  addNewButtonContent: string;\r\n\r\n  constructor(private ref: ElementRef) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.ref.nativeElement.classList.add('ng2-smart-actions-title', 'ng2-smart-actions-title-add');\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.isActionAdd = this.grid.getSetting('actions.add');\r\n    this.addNewButtonContent = this.grid.getSetting('add.addButtonContent');\r\n  }\r\n\r\n  onAdd(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.grid.getSetting('mode') === 'external') {\r\n      this.create.emit({\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.createFormShown = true;\r\n    }\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\n\r\n@Component({\r\n  selector: '[ng2-st-checkbox-select-all]',\r\n  template: `\r\n    <input type=\"checkbox\" [ngModel]=\"isAllSelected\">\r\n  `,\r\n})\r\nexport class CheckboxSelectAllComponent {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() source: DataSource;\r\n  @Input() isAllSelected: boolean;\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Column } from '../../../lib/data-set/column';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\n\r\n@Component({\r\n  selector: 'ng2-st-column-title',\r\n  template: `\r\n    <div class=\"ng2-smart-title\">\r\n      <ng2-smart-table-title [source]=\"source\" [column]=\"column\" (sort)=\"sort.emit($event)\" (onSortTable)=\"onSortTable.emit($event)\"></ng2-smart-table-title>\r\n    </div>\r\n  `,\r\n})\r\nexport class ColumnTitleComponent {\r\n\r\n  @Input() column: Column;\r\n  @Input() source: DataSource;\r\n\r\n  @Output() sort = new EventEmitter<any>();\r\n  @Output() onSortTable = new EventEmitter<any>();\r\n}\r\n","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { DataSource } from '../../../../lib/data-source/data-source';\r\nimport { Column } from '../../../../lib/data-set/column';\r\n\r\n@Component({\r\n  selector: 'ng2-smart-table-title',\r\n  styleUrls: ['./title.component.scss'],\r\n  template: `\r\n    <a href=\"#\" *ngIf=\"column.isSortable\"\r\n                (click)=\"_sort($event)\"\r\n                class=\"ng2-smart-sort-link sort\"\r\n                [ngClass]=\"currentDirection\">\r\n      {{ column.title }}\r\n    </a>\r\n    <span class=\"ng2-smart-sort\" *ngIf=\"!column.isSortable\">{{ column.title }}</span>\r\n  `,\r\n})\r\nexport class TitleComponent implements OnChanges {\r\n\r\n  currentDirection = '';\r\n  @Input() column: Column;\r\n  @Input() source: DataSource;\r\n  @Output() sort = new EventEmitter<any>();\r\n  @Output() onSortTable = new EventEmitter<any>();\r\n\r\n  protected dataChangedSub: Subscription;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (!changes.source.firstChange) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe((dataChanges) => {\r\n        const sortConf = this.source.getSort();\r\n\r\n        if (sortConf.length > 0 && sortConf[0]['field'] === this.column.id) {\r\n          this.currentDirection = sortConf[0]['direction'];\r\n        } else {\r\n          this.currentDirection = '';\r\n        }\r\n\r\n        sortConf.forEach((fieldConf: any) => {\r\n\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  _sort(event: any) {\r\n    event.preventDefault();\r\n    this.changeSortDirection();\r\n    this.onSortTable.emit({ column: this.column.id, direction: this.currentDirection });\r\n    this.source.setSort([\r\n      {\r\n        field: this.column.id,\r\n        direction: this.currentDirection,\r\n        compare: this.column.getCompareFunction(),\r\n      },\r\n    ]);\r\n    this.sort.emit(null);\r\n  }\r\n\r\n  changeSortDirection(): string {\r\n    if (this.currentDirection) {\r\n      const newDirection = this.currentDirection === 'asc' ? 'desc' : 'asc';\r\n      this.currentDirection = newDirection;\r\n    } else {\r\n      this.currentDirection = this.column.sortDirection;\r\n    }\r\n    return this.currentDirection;\r\n  }\r\n}\r\n","import {Component, Input, Output, EventEmitter, OnChanges} from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\nimport { Column } from \"../../../lib/data-set/column\";\r\n\r\n@Component({\r\n  selector: '[ng2-st-thead-filters-row]',\r\n  template: `\r\n    <th *ngIf=\"isMultiSelectVisible\"></th>\r\n    <th ng2-st-add-button *ngIf=\"showActionColumnLeft\"\r\n                          [grid]=\"grid\"\r\n                          (create)=\"create.emit($event)\">\r\n    </th>\r\n    <th *ngFor=\"let column of grid.getColumns()\" class=\"ng2-smart-th {{ column.id }}\">\r\n      <ng2-smart-table-filter [source]=\"source\"\r\n                              [column]=\"column\"\r\n                              [inputClass]=\"filterInputClass\"\r\n                              (filter)=\"filter.emit($event)\">\r\n      </ng2-smart-table-filter>\r\n    </th>\r\n    <th ng2-st-add-button *ngIf=\"showActionColumnRight\"\r\n                          [grid]=\"grid\"\r\n                          [source]=\"source\"\r\n                          (create)=\"create.emit($event)\">\r\n    </th>\r\n  `,\r\n})\r\nexport class TheadFitlersRowComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() source: DataSource;\r\n\r\n  @Output() create = new EventEmitter<any>();\r\n  @Output() filter = new EventEmitter<any>();\r\n\r\n  isMultiSelectVisible: boolean;\r\n  showActionColumnLeft: boolean;\r\n  showActionColumnRight: boolean;\r\n  filterInputClass: string;\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.filterInputClass = this.grid.getSetting('filter.inputClass');\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, OnChanges } from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { Row } from '../../../lib/data-set/row';\r\n\r\n@Component({\r\n  selector: '[ng2-st-thead-form-row]',\r\n  template: `\r\n      <td *ngIf=\"\"></td>\r\n      <td  *ngIf=\"showActionColumnLeft\"  class=\"ng2-smart-actions\">\r\n        <ng2-st-actions [grid]=\"grid\" (create)=\"onCreate($event)\"></ng2-st-actions>\r\n      </td>\r\n      <td *ngFor=\"let cell of grid.getNewRow().getCells()\">\r\n        <ng2-smart-table-cell [cell]=\"cell\"\r\n                              [grid]=\"grid\"\r\n                              [isNew]=\"true\"\r\n                              [createConfirm]=\"createConfirm\"\r\n                              [inputClass]=\"addInputClass\"\r\n                              [isInEditing]=\"grid.getNewRow().isInEditing\"\r\n                              (edited)=\"onCreate($event)\">\r\n        </ng2-smart-table-cell>\r\n      </td>\r\n      <td  *ngIf=\"showActionColumnRight\"  class=\"ng2-smart-actions\">\r\n        <ng2-st-actions [grid]=\"grid\" (create)=\"onCreate($event)\"></ng2-st-actions>\r\n      </td>\r\n  `,\r\n})\r\nexport class TheadFormRowComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() row: Row;\r\n  @Input() createConfirm: EventEmitter<any>;\r\n\r\n  @Output() create = new EventEmitter<any>();\r\n\r\n  isMultiSelectVisible: boolean;\r\n  showActionColumnLeft: boolean;\r\n  showActionColumnRight: boolean;\r\n  addInputClass: string;\r\n\r\n  onCreate(event: any) {\r\n    event.stopPropagation();\r\n\r\n    this.grid.create(this.grid.getNewRow(), this.createConfirm);\r\n  }\r\n\r\n  ngOnChanges(){\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.addInputClass = this.grid.getSetting('add.inputClass');\r\n  }\r\n}\r\n","import {Component, Input, Output, EventEmitter, OnChanges} from '@angular/core';\r\n\r\nimport { Grid } from '../../../lib/grid';\r\nimport { DataSource } from '../../../lib/data-source/data-source';\r\nimport { Column } from \"../../../lib/data-set/column\";\r\n\r\n@Component({\r\n  selector: '[ng2-st-thead-titles-row]',\r\n  template: `\r\n    <th ng2-st-checkbox-select-all *ngIf=\"isMultiSelectVisible\"\r\n                                   [grid]=\"grid\"\r\n                                   [source]=\"source\"\r\n                                   [isAllSelected]=\"isAllSelected\"\r\n                                   (click)=\"selectAllRows.emit($event)\">\r\n    </th>\r\n    <th ng2-st-actions-title *ngIf=\"showActionColumnLeft\" [grid]=\"grid\"></th>\r\n    <th *ngFor=\"let column of grid.getColumns()\" class=\"ng2-smart-th {{ column.id }}\" [ngClass]=\"column.class\"\r\n      [style.width]=\"column.width\" >\r\n      <ng2-st-column-title [source]=\"source\" [column]=\"column\" (sort)=\"sort.emit($event)\" (onSortTable)=\"onSortTable.emit($event)\"></ng2-st-column-title>\r\n    </th>\r\n    <th ng2-st-actions-title *ngIf=\"showActionColumnRight\" [grid]=\"grid\"></th>\r\n  `,\r\n})\r\nexport class TheadTitlesRowComponent implements OnChanges {\r\n\r\n  @Input() grid: Grid;\r\n  @Input() isAllSelected: boolean;\r\n  @Input() source: DataSource;\r\n\r\n  @Output() sort = new EventEmitter<any>();\r\n  @Output() selectAllRows = new EventEmitter<any>();\r\n  @Output() onSortTable = new EventEmitter<any>();\r\n  isMultiSelectVisible: boolean;\r\n  showActionColumnLeft: boolean;\r\n  showActionColumnRight: boolean;\r\n\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { FilterModule } from '../filter/filter.module';\r\nimport { CellModule } from '../cell/cell.module';\r\n\r\nimport { Ng2SmartTableTheadComponent } from './thead.component';\r\nimport { ActionsComponent } from './cells/actions.component';\r\nimport { ActionsTitleComponent } from './cells/actions-title.component';\r\nimport { AddButtonComponent } from './cells/add-button.component';\r\nimport { CheckboxSelectAllComponent } from './cells/checkbox-select-all.component';\r\nimport { ColumnTitleComponent } from './cells/column-title.component';\r\nimport { TitleComponent } from './cells/title/title.component';\r\nimport { TheadFitlersRowComponent } from './rows/thead-filters-row.component';\r\nimport { TheadFormRowComponent } from './rows/thead-form-row.component';\r\nimport { TheadTitlesRowComponent } from './rows/thead-titles-row.component';\r\n\r\nconst THEAD_COMPONENTS = [\r\n  ActionsComponent,\r\n  ActionsTitleComponent,\r\n  AddButtonComponent,\r\n  CheckboxSelectAllComponent,\r\n  ColumnTitleComponent,\r\n  TitleComponent,\r\n  TheadFitlersRowComponent,\r\n  TheadFormRowComponent,\r\n  TheadTitlesRowComponent,\r\n  Ng2SmartTableTheadComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FilterModule,\r\n    CellModule,\r\n  ],\r\n  declarations: [\r\n    ...THEAD_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...THEAD_COMPONENTS,\r\n  ],\r\n})\r\nexport class THeadModule { }\r\n","export function compareValues(direction: any, a: any, b: any) {\r\n  if (a < b) {\r\n    return -1 * direction;\r\n  }\r\n  if (a > b) {\r\n    return direction;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport class LocalSorter {\r\n\r\n  static sort(data: Array<any>, field: string, direction: string, customCompare?: Function): Array<any> {\r\n\r\n    const dir: number = (direction === 'asc') ? 1 : -1;\r\n    const compare: Function = customCompare ? customCompare : compareValues;\r\n\r\n    return data.sort((a, b) => {\r\n      return compare.call(null, dir, a[field], b[field]);\r\n    });\r\n  }\r\n}\r\n","export function filterValues(value: string, search: string) {\r\n  return value.toString().toLowerCase().includes(search.toString().toLowerCase());\r\n}\r\n\r\nexport class LocalFilter {\r\n\r\n  static filter(data: Array<any>, field: string, search: string, customFilter?: Function): Array<any> {\r\n    const filter: Function = customFilter ? customFilter : filterValues;\r\n\r\n    return data.filter((el) => {\r\n      const value = typeof el[field] === 'undefined' || el[field] === null ? '' : el[field];\r\n      return filter.call(null, value, search);\r\n    });\r\n  }\r\n}\r\n","export class LocalPager {\r\n\r\n  static paginate(data: Array<any>, page: number, perPage: number): Array<any> {\r\n    return data.slice(perPage * (page - 1), perPage * page);\r\n  }\r\n}\r\n","import { LocalSorter } from './local.sorter';\r\nimport { LocalFilter } from './local.filter';\r\nimport { LocalPager } from './local.pager';\r\nimport { DataSource } from '../data-source';\r\nimport { deepExtend } from '../../helpers';\r\n\r\nexport class LocalDataSource extends DataSource {\r\n\r\n  protected data: Array<any> = [];\r\n  protected filteredAndSorted: Array<any> = [];\r\n  protected sortConf: Array<any> = [];\r\n  protected filterConf: any = {\r\n    filters: [],\r\n    andOperator: true,\r\n  };\r\n  protected pagingConf: any = {};\r\n\r\n  constructor(data: Array<any> = []) {\r\n    super();\r\n\r\n    this.data = data;\r\n  }\r\n\r\n  load(data: Array<any>): Promise<any> {\r\n    this.data = data;\r\n\r\n    return super.load(data);\r\n  }\r\n\r\n  prepend(element: any): Promise<any> {\r\n    this.reset(true);\r\n\r\n    this.data.unshift(element);\r\n    return super.prepend(element);\r\n  }\r\n\r\n  append(element: any): Promise<any> {\r\n    this.reset(true);\r\n\r\n    this.data.push(element);\r\n    return super.append(element);\r\n  }\r\n\r\n  add(element: any): Promise<any> {\r\n    this.data.push(element);\r\n\r\n    return super.add(element);\r\n  }\r\n\r\n  remove(element: any): Promise<any> {\r\n    this.data = this.data.filter(el => el !== element);\r\n\r\n    return super.remove(element);\r\n  }\r\n\r\n  update(element: any, values: any): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.find(element).then((found) => {\r\n        found = deepExtend(found, values);\r\n        super.update(found, values).then(resolve).catch(reject);\r\n      }).catch(reject);\r\n    });\r\n  }\r\n\r\n  find(element: any): Promise<any> {\r\n    const found = this.data.find(el => el === element);\r\n    if (found) {\r\n      return Promise.resolve(found);\r\n    }\r\n\r\n    return Promise.reject(new Error('Element was not found in the dataset'));\r\n  }\r\n\r\n  getElements(): Promise<any> {\r\n    const data = this.data.slice(0);\r\n    return Promise.resolve(this.prepareData(data));\r\n  }\r\n\r\n  getFilteredAndSorted(): Promise<any> {\r\n    let data = this.data.slice(0);\r\n    this.prepareData(data);\r\n    return Promise.resolve(this.filteredAndSorted);\r\n  }\r\n\r\n  getAll(): Promise<any> {\r\n    const data = this.data.slice(0);\r\n    return Promise.resolve(data);\r\n  }\r\n\r\n  reset(silent = false) {\r\n    if (silent) {\r\n      this.filterConf = {\r\n        filters: [],\r\n        andOperator: true,\r\n      };\r\n      this.sortConf = [];\r\n      this.pagingConf['page'] = 1;\r\n    } else {\r\n      this.setFilter([], true, false);\r\n      this.setSort([], false);\r\n      this.setPage(1);\r\n    }\r\n  }\r\n\r\n  empty(): Promise<any> {\r\n    this.data = [];\r\n\r\n    return super.empty();\r\n  }\r\n\r\n  count(): number {\r\n    return this.filteredAndSorted.length;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Array of conf objects\r\n   * [\r\n   *  {field: string, direction: asc|desc|null, compare: Function|null},\r\n   * ]\r\n   * @param conf\r\n   * @param doEmit\r\n   * @returns {LocalDataSource}\r\n   */\r\n  setSort(conf: Array<any>, doEmit = true): LocalDataSource {\r\n    if (conf !== null) {\r\n\r\n      conf.forEach((fieldConf) => {\r\n        if (!fieldConf['field'] || typeof fieldConf['direction'] === 'undefined') {\r\n          throw new Error('Sort configuration object is not valid');\r\n        }\r\n      });\r\n      this.sortConf = conf;\r\n    }\r\n\r\n    super.setSort(conf, doEmit);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Array of conf objects\r\n   * [\r\n   *  {field: string, search: string, filter: Function|null},\r\n   * ]\r\n   * @param conf\r\n   * @param andOperator\r\n   * @param doEmit\r\n   * @returns {LocalDataSource}\r\n   */\r\n  setFilter(conf: Array<any>, andOperator = true, doEmit = true): LocalDataSource {\r\n    if (conf && conf.length > 0) {\r\n      conf.forEach((fieldConf) => {\r\n        this.addFilter(fieldConf, andOperator, false);\r\n      });\r\n    } else {\r\n      this.filterConf = {\r\n        filters: [],\r\n        andOperator: true,\r\n      };\r\n    }\r\n    this.filterConf.andOperator = andOperator;\r\n    this.pagingConf['page'] = 1;\r\n\r\n    super.setFilter(conf, andOperator, doEmit);\r\n    return this;\r\n  }\r\n\r\n  addFilter(fieldConf: any, andOperator = true, doEmit: boolean = true): LocalDataSource {\r\n    if (!fieldConf['field'] || typeof fieldConf['search'] === 'undefined') {\r\n      throw new Error('Filter configuration object is not valid');\r\n    }\r\n\r\n    let found = false;\r\n    this.filterConf.filters.forEach((currentFieldConf: any, index: any) => {\r\n      if (currentFieldConf['field'] === fieldConf['field']) {\r\n        this.filterConf.filters[index] = fieldConf;\r\n        found = true;\r\n      }\r\n    });\r\n    if (!found) {\r\n      this.filterConf.filters.push(fieldConf);\r\n    }\r\n    this.filterConf.andOperator = andOperator;\r\n    super.addFilter(fieldConf, andOperator, doEmit);\r\n    return this;\r\n  }\r\n\r\n  setPaging(page: number, perPage: number, doEmit: boolean = true): LocalDataSource {\r\n    this.pagingConf['page'] = page;\r\n    this.pagingConf['perPage'] = perPage;\r\n\r\n    super.setPaging(page, perPage, doEmit);\r\n    return this;\r\n  }\r\n\r\n  setPage(page: number, doEmit: boolean = true): LocalDataSource {\r\n    this.pagingConf['page'] = page;\r\n    super.setPage(page, doEmit);\r\n    return this;\r\n  }\r\n\r\n  getSort(): any {\r\n    return this.sortConf;\r\n  }\r\n\r\n  getFilter(): any {\r\n    return this.filterConf;\r\n  }\r\n\r\n  getPaging(): any {\r\n    return this.pagingConf;\r\n  }\r\n\r\n  protected prepareData(data: Array<any>): Array<any> {\r\n    data = this.filter(data);\r\n    data = this.sort(data);\r\n    this.filteredAndSorted = data.slice(0);\r\n\r\n    return this.paginate(data);\r\n  }\r\n\r\n  protected sort(data: Array<any>): Array<any> {\r\n    if (this.sortConf) {\r\n      this.sortConf.forEach((fieldConf) => {\r\n        data = LocalSorter\r\n          .sort(data, fieldConf['field'], fieldConf['direction'], fieldConf['compare']);\r\n      });\r\n    }\r\n    return data;\r\n  }\r\n\r\n  // TODO: refactor?\r\n  protected filter(data: Array<any>): Array<any> {\r\n    if (this.filterConf.filters) {\r\n      if (this.filterConf.andOperator) {\r\n        this.filterConf.filters.forEach((fieldConf: any) => {\r\n          if (fieldConf['search'].length > 0) {\r\n            data = LocalFilter\r\n              .filter(data, fieldConf['field'], fieldConf['search'], fieldConf['filter']);\r\n          }\r\n        });\r\n      } else {\r\n        let mergedData: any = [];\r\n        this.filterConf.filters.forEach((fieldConf: any) => {\r\n          if (fieldConf['search'].length > 0) {\r\n            mergedData = mergedData.concat(LocalFilter\r\n              .filter(data, fieldConf['field'], fieldConf['search'], fieldConf['filter']));\r\n          }\r\n        });\r\n        // remove non unique items\r\n        data = mergedData.filter((elem: any, pos: any, arr: any) => {\r\n          return arr.indexOf(elem) === pos;\r\n        });\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  protected paginate(data: Array<any>): Array<any> {\r\n    if (this.pagingConf && this.pagingConf['page'] && this.pagingConf['perPage']) {\r\n      data = LocalPager.paginate(data, this.pagingConf['page'], this.pagingConf['perPage']);\r\n    }\r\n    return data;\r\n  }\r\n}\r\n","import { Component, Input, Output, SimpleChange, EventEmitter, OnChanges } from '@angular/core';\r\n\r\nimport { Grid } from './lib/grid';\r\nimport { DataSource } from './lib/data-source/data-source';\r\nimport { Row } from './lib/data-set/row';\r\nimport { deepExtend } from './lib/helpers';\r\nimport { LocalDataSource } from './lib/data-source/local/local.data-source';\r\n\r\n@Component({\r\n  selector: 'ng2-smart-table',\r\n  styleUrls: ['./ng2-smart-table.component.scss'],\r\n  templateUrl: './ng2-smart-table.component.html',\r\n})\r\nexport class Ng2SmartTableComponent implements OnChanges {\r\n\r\n  @Input() source: any;\r\n  @Input() settings: Object = {};\r\n\r\n  @Output() rowSelect = new EventEmitter<any>();\r\n  @Output() userRowSelect = new EventEmitter<any>();\r\n  @Output() delete = new EventEmitter<any>();\r\n  @Output() edit = new EventEmitter<any>();\r\n  @Output() create = new EventEmitter<any>();\r\n  @Output() custom = new EventEmitter<any>();\r\n  @Output() deleteConfirm = new EventEmitter<any>();\r\n  @Output() editConfirm = new EventEmitter<any>();\r\n  @Output() createConfirm = new EventEmitter<any>();\r\n  @Output() rowHover: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onSortTable = new EventEmitter<any>();\r\n  \r\n  tableClass: string;\r\n  tableId: string;\r\n  perPageSelect: any;\r\n  isHideHeader: boolean;\r\n  isHideSubHeader: boolean;\r\n  isPagerDisplay: boolean;\r\n  rowClassFunction: Function;\r\n\r\n\r\n  grid: Grid;\r\n  defaultSettings: Object = {\r\n    mode: 'inline', // inline|external|click-to-edit\r\n    selectMode: 'single', // single|multi\r\n    hideHeader: false,\r\n    hideSubHeader: false,\r\n    actions: {\r\n      columnTitle: 'Actions',\r\n      add: true,\r\n      edit: true,\r\n      delete: true,\r\n      custom: [],\r\n      position: 'left', // left|right\r\n    },\r\n    filter: {\r\n      inputClass: '',\r\n    },\r\n    edit: {\r\n      inputClass: '',\r\n      editButtonContent: 'Edit',\r\n      saveButtonContent: 'Update',\r\n      cancelButtonContent: 'Cancel',\r\n      confirmSave: false,\r\n    },\r\n    add: {\r\n      inputClass: '',\r\n      addButtonContent: 'Add New',\r\n      createButtonContent: 'Create',\r\n      cancelButtonContent: 'Cancel',\r\n      confirmCreate: false,\r\n    },\r\n    delete: {\r\n      deleteButtonContent: 'Delete',\r\n      confirmDelete: false,\r\n    },\r\n    attr: {\r\n      id: '',\r\n      class: '',\r\n    },\r\n    noDataMessage: 'No data found',\r\n    columns: {},\r\n    pager: {\r\n      display: true,\r\n      perPage: 10,\r\n    },\r\n    rowClassFunction: () => \"\"\r\n  };\r\n\r\n  isAllSelected: boolean = false;\r\n\r\n  ngOnChanges(changes: { [propertyName: string]: SimpleChange }) {\r\n    if (this.grid) {\r\n      if (changes['settings']) {\r\n        this.grid.setSettings(this.prepareSettings());\r\n      }\r\n      if (changes['source']) {\r\n        this.source = this.prepareSource();\r\n        this.grid.setSource(this.source);\r\n      }\r\n    } else {\r\n      this.initGrid();\r\n    }\r\n    this.tableId = this.grid.getSetting('attr.id');\r\n    this.tableClass = this.grid.getSetting('attr.class');\r\n    this.isHideHeader = this.grid.getSetting('hideHeader');\r\n    this.isHideSubHeader = this.grid.getSetting('hideSubHeader');\r\n    this.isPagerDisplay = this.grid.getSetting('pager.display');\r\n    this.isPagerDisplay = this.grid.getSetting('pager.display');\r\n    this.perPageSelect = this.grid.getSetting('pager.perPageSelect');\r\n    this.rowClassFunction = this.grid.getSetting('rowClassFunction');\r\n  }\r\n\r\n  editRowSelect(row: Row) {\r\n    if (this.grid.getSetting('selectMode') === 'multi') {\r\n      this.onMultipleSelectRow(row);\r\n    } else {\r\n      this.onSelectRow(row);\r\n    }\r\n  }\r\n\r\n  onUserSelectRow(row: Row) {\r\n    if (this.grid.getSetting('selectMode') !== 'multi') {\r\n      this.grid.selectRow(row);\r\n      this.emitUserSelectRow(row);\r\n      this.emitSelectRow(row);\r\n    }\r\n  }\r\n\r\n  onRowHover(row: Row) {\r\n    this.rowHover.emit(row);\r\n  }\r\n\r\n  multipleSelectRow(row: Row) {\r\n    this.grid.multipleSelectRow(row);\r\n    this.emitUserSelectRow(row);\r\n    this.emitSelectRow(row);\r\n  }\r\n\r\n  onSelectAllRows($event: any) {\r\n    this.isAllSelected = !this.isAllSelected;\r\n    this.grid.selectAllRows(this.isAllSelected);\r\n\r\n    this.emitUserSelectRow(null);\r\n    this.emitSelectRow(null);\r\n  }\r\n\r\n  onSelectRow(row: Row) {\r\n    this.grid.selectRow(row);\r\n    this.emitSelectRow(row);\r\n  }\r\n\r\n  onMultipleSelectRow(row: Row) {\r\n    this.emitSelectRow(row);\r\n  }\r\n\r\n  initGrid() {\r\n    this.source = this.prepareSource();\r\n    this.grid = new Grid(this.source, this.prepareSettings());\r\n    this.grid.onSelectRow().subscribe((row) => this.emitSelectRow(row));\r\n  }\r\n\r\n  prepareSource(): DataSource {\r\n    if (this.source instanceof DataSource) {\r\n      return this.source;\r\n    } else if (this.source instanceof Array) {\r\n      return new LocalDataSource(this.source);\r\n    }\r\n\r\n    return new LocalDataSource();\r\n  }\r\n\r\n  prepareSettings(): Object {\r\n    return deepExtend({}, this.defaultSettings, this.settings);\r\n  }\r\n\r\n  changePage($event: any) {\r\n    this.resetAllSelector();\r\n  }\r\n\r\n  sort($event: any) {\r\n    this.resetAllSelector();\r\n  }\r\n\r\n  filter($event: any) {\r\n    this.resetAllSelector();\r\n  }\r\n\r\n  private resetAllSelector() {\r\n    this.isAllSelected = false;\r\n  }\r\n\r\n  private emitUserSelectRow(row: Row) {\r\n    const selectedRows = this.grid.getSelectedRows();\r\n\r\n    this.userRowSelect.emit({\r\n      data: row ? row.getData() : null,\r\n      isSelected: row ? row.getIsSelected() : null,\r\n      source: this.source,\r\n      selected: selectedRows && selectedRows.length ? selectedRows.map((r: Row) => r.getData()) : [],\r\n    });\r\n  }\r\n\r\n  private emitSelectRow(row: Row) {\r\n    this.rowSelect.emit({\r\n      data: row ? row.getData() : null,\r\n      isSelected: row ? row.getIsSelected() : null,\r\n      source: this.source,\r\n    });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { CellModule } from './components/cell/cell.module';\r\nimport { FilterModule } from './components/filter/filter.module';\r\nimport { PagerModule } from './components/pager/pager.module';\r\nimport { TBodyModule } from './components/tbody/tbody.module';\r\nimport { THeadModule } from './components/thead/thead.module';\r\n\r\nimport { Ng2SmartTableComponent } from './ng2-smart-table.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CellModule,\r\n    FilterModule,\r\n    PagerModule,\r\n    TBodyModule,\r\n    THeadModule,\r\n  ],\r\n  declarations: [\r\n    Ng2SmartTableComponent,\r\n  ],\r\n  exports: [\r\n    Ng2SmartTableComponent,\r\n  ],\r\n})\r\nexport class Ng2SmartTableModule {\r\n}\r\n","export class ServerSourceConf {\r\n\r\n  protected static readonly SORT_FIELD_KEY = '_sort';\r\n  protected static readonly SORT_DIR_KEY = '_order';\r\n  protected static readonly PAGER_PAGE_KEY = '_page';\r\n  protected static readonly PAGER_LIMIT_KEY = '_limit';\r\n  protected static readonly FILTER_FIELD_KEY = '#field#_like';\r\n  protected static readonly TOTAL_KEY = 'x-total-count';\r\n  protected static readonly DATA_KEY = '';\r\n\r\n  endPoint: string;\r\n\r\n  sortFieldKey: string;\r\n  sortDirKey: string;\r\n  pagerPageKey: string;\r\n  pagerLimitKey: string;\r\n  filterFieldKey: string;\r\n  totalKey: string;\r\n  dataKey: string;\r\n\r\n  constructor(\r\n    { endPoint = '', sortFieldKey = '', sortDirKey = '',\r\n      pagerPageKey = '', pagerLimitKey = '', filterFieldKey = '', totalKey = '', dataKey = '' } = {}) {\r\n\r\n    this.endPoint = endPoint ? endPoint : '';\r\n\r\n    this.sortFieldKey = sortFieldKey ? sortFieldKey : ServerSourceConf.SORT_FIELD_KEY;\r\n    this.sortDirKey = sortDirKey ? sortDirKey : ServerSourceConf.SORT_DIR_KEY;\r\n    this.pagerPageKey = pagerPageKey ? pagerPageKey : ServerSourceConf.PAGER_PAGE_KEY;\r\n    this.pagerLimitKey = pagerLimitKey ? pagerLimitKey : ServerSourceConf.PAGER_LIMIT_KEY;\r\n    this.filterFieldKey = filterFieldKey ? filterFieldKey : ServerSourceConf.FILTER_FIELD_KEY;\r\n    this.totalKey = totalKey ? totalKey : ServerSourceConf.TOTAL_KEY;\r\n    this.dataKey = dataKey ? dataKey : ServerSourceConf.DATA_KEY;\r\n  }\r\n}\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { LocalDataSource } from '../local/local.data-source';\r\nimport { ServerSourceConf } from './server-source.conf';\r\nimport { getDeepFromObject } from '../../helpers';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\nexport class ServerDataSource extends LocalDataSource {\r\n\r\n  protected conf: ServerSourceConf;\r\n\r\n  protected lastRequestCount: number = 0;\r\n\r\n  constructor(protected http: HttpClient, conf: ServerSourceConf | {} = {}) {\r\n    super();\r\n\r\n    this.conf = new ServerSourceConf(conf);\r\n\r\n    if (!this.conf.endPoint) {\r\n      throw new Error('At least endPoint must be specified as a configuration of the server data source.');\r\n    }\r\n  }\r\n\r\n  count(): number {\r\n    return this.lastRequestCount;\r\n  }\r\n\r\n  getElements(): Promise<any> {\r\n    return this.requestElements()\r\n      .pipe(map(res => {\r\n        this.lastRequestCount = this.extractTotalFromResponse(res);\r\n        this.data = this.extractDataFromResponse(res);\r\n\r\n        return this.data;\r\n      })).toPromise();\r\n  }\r\n\r\n  /**\r\n   * Extracts array of data from server response\r\n   * @param res\r\n   * @returns {any}\r\n   */\r\n  protected extractDataFromResponse(res: any): Array<any> {\r\n    const rawData = res.body;\r\n    const data = !!this.conf.dataKey ? getDeepFromObject(rawData, this.conf.dataKey, []) : rawData;\r\n\r\n    if (data instanceof Array) {\r\n      return data;\r\n    }\r\n\r\n    throw new Error(`Data must be an array.\r\n    Please check that data extracted from the server response by the key '${this.conf.dataKey}' exists and is array.`);\r\n  }\r\n\r\n  /**\r\n   * Extracts total rows count from the server response\r\n   * Looks for the count in the heders first, then in the response body\r\n   * @param res\r\n   * @returns {any}\r\n   */\r\n  protected extractTotalFromResponse(res: any): number {\r\n    if (res.headers.has(this.conf.totalKey)) {\r\n      return +res.headers.get(this.conf.totalKey);\r\n    } else {\r\n      const rawData = res.body;\r\n      return getDeepFromObject(rawData, this.conf.totalKey, 0);\r\n    }\r\n  }\r\n\r\n  protected requestElements(): Observable<any> {\r\n    let httpParams = this.createRequesParams();\r\n    return this.http.get(this.conf.endPoint, { params: httpParams, observe: 'response' });\r\n  }\r\n\r\n  protected createRequesParams(): HttpParams {\r\n    let httpParams = new HttpParams();\r\n\r\n    httpParams = this.addSortRequestParams(httpParams);\r\n    httpParams = this.addFilterRequestParams(httpParams);\r\n    return this.addPagerRequestParams(httpParams);\r\n  }\r\n\r\n  protected addSortRequestParams(httpParams: HttpParams): HttpParams {\r\n    if (this.sortConf) {\r\n      this.sortConf.forEach((fieldConf) => {\r\n        httpParams = httpParams.set(this.conf.sortFieldKey, fieldConf.field);\r\n        httpParams = httpParams.set(this.conf.sortDirKey, fieldConf.direction.toUpperCase());\r\n      });\r\n    }\r\n\r\n    return httpParams;\r\n  }\r\n\r\n  protected addFilterRequestParams(httpParams: HttpParams): HttpParams {\r\n\r\n    if (this.filterConf.filters) {\r\n      this.filterConf.filters.forEach((fieldConf: any) => {\r\n        if (fieldConf['search']) {\r\n          httpParams = httpParams.set(this.conf.filterFieldKey.replace('#field#', fieldConf['field']), fieldConf['search']);\r\n        }\r\n      });\r\n    }\r\n\r\n    return httpParams;\r\n  }\r\n\r\n  protected addPagerRequestParams(httpParams: HttpParams): HttpParams {\r\n\r\n    if (this.pagingConf && this.pagingConf['page'] && this.pagingConf['perPage']) {\r\n      httpParams = httpParams.set(this.conf.pagerPageKey, this.pagingConf['page']);\r\n      httpParams = httpParams.set(this.conf.pagerLimitKey, this.pagingConf['perPage']);\r\n    }\r\n\r\n    return httpParams;\r\n  }\r\n}\r\n"],"names":["cloneDeep","Subject","EventEmitter","tslib_1.__decorate","Input","Output","Component","tslib_1.__extends","ViewChild","ViewContainerRef","ComponentFactoryResolver","CompleterService","ChangeDetectionStrategy","NgModule","CommonModule","FormsModule","Ng2CompleterModule","FormControl","debounceTime","map","distinctUntilChanged","skip","NgControl","ReactiveFormsModule","ElementRef","HttpParams"],"mappings":"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"}